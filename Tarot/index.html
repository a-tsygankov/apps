<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tarot Oracle</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Cinzel:wght@400;500;600&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&display=swap" rel="stylesheet">
<style>
/* â”€â”€ DEFAULT: DUSK (softer, easier on eyes) â”€â”€ */
:root {
  --ink: #1a1520;
  --parchment: #f2e8d0;
  --gold: #b8963e;
  --gold-bright: #d4a94a;
  --gold-dim: #6a5525;
  --crimson: #8b1a2a;
  --midnight: #1e1828;
  --deep-violet: #2a1f3d;
  --violet-mid: #3d2a60;
  --amethyst: #7a55b0;
  --silver: #9098b0;
  --cream: #d8cdb0;
  --card-dark: #1c1428;
  --bg-primary: #1e1828;
  --bg-card: #241c38;
  --text-body: #c8bda0;
  --border-subtle: rgba(184,150,62,0.2);
}

/* â”€â”€ THEME: MIDNIGHT (original dark) â”€â”€ */
[data-theme="midnight"] {
  --midnight: #0d0a1a;
  --deep-violet: #1a0d30;
  --violet-mid: #2e1458;
  --amethyst: #6b3fa0;
  --silver: #a8afc0;
  --cream: #ede0c0;
  --card-dark: #100820;
  --bg-primary: #0d0a1a;
  --bg-card: #120820;
  --text-body: #ddd0b8;
  --border-subtle: rgba(200,168,75,0.25);
  --gold: #c8a84b;
  --gold-bright: #e8c96a;
  --gold-dim: #7a6428;
}

/* â”€â”€ THEME: PARCHMENT (light warm) â”€â”€ */
[data-theme="parchment"] {
  --midnight: #f5ede0;
  --deep-violet: #e8dcc8;
  --violet-mid: #ddd0b8;
  --amethyst: #7a5535;
  --silver: #6a5545;
  --cream: #3a2a18;
  --card-dark: #e8dcc8;
  --bg-primary: #f5ede0;
  --bg-card: #ede0c8;
  --text-body: #3a2a18;
  --border-subtle: rgba(100,70,30,0.25);
  --gold: #8a6020;
  --gold-bright: #a07830;
  --gold-dim: #c0a870;
}

/* â”€â”€ THEME: FOREST (deep green) â”€â”€ */
[data-theme="forest"] {
  --midnight: #0e1a14;
  --deep-violet: #162210;
  --violet-mid: #1e3018;
  --amethyst: #4a8050;
  --silver: #90a898;
  --cream: #d0e0c8;
  --card-dark: #121e14;
  --bg-primary: #0e1a14;
  --bg-card: #162210;
  --text-body: #c0d8b8;
  --border-subtle: rgba(100,180,80,0.2);
  --gold: #90b840;
  --gold-bright: #a8d050;
  --gold-dim: #507025;
}

* { margin:0; padding:0; box-sizing:border-box; }

html, body {
  height: 100%;
  background: var(--bg-primary, var(--midnight));
  color: var(--cream);
  font-family: 'Cormorant Garamond', serif;
  overflow-x: hidden;
}

/* â”€â”€ CANVAS BG â”€â”€ */
#bg-canvas {
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 0;
}

/* â”€â”€ LAYOUT â”€â”€ */
.app {
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* â”€â”€ HEADER â”€â”€ */
header {
  width: 100%;
  text-align: center;
  padding: 44px 20px 20px;
}

.crown {
  font-size: 2rem;
  letter-spacing: 0.5em;
  color: var(--gold);
  display: block;
  margin-bottom: 8px;
  animation: glowPulse 4s ease-in-out infinite;
  text-shadow: 0 0 20px rgba(200,168,75,0.6);
}

@keyframes glowPulse {
  0%,100% { text-shadow: 0 0 20px rgba(200,168,75,0.4); }
  50% { text-shadow: 0 0 40px rgba(232,201,106,0.8), 0 0 60px rgba(200,168,75,0.3); }
}

h1 {
  font-family: 'Cinzel Decorative', serif;
  font-size: clamp(1.6rem, 5vw, 3rem);
  font-weight: 900;
  color: var(--gold);
  letter-spacing: 0.2em;
  text-transform: uppercase;
  text-shadow: 0 0 40px rgba(200,168,75,0.4);
}

.tagline {
  font-family: 'Cinzel', serif;
  font-size: 0.78rem;
  letter-spacing: 0.4em;
  color: var(--silver);
  text-transform: uppercase;
  margin-top: 8px;
  opacity: 0.8;
}

.rule {
  display: flex;
  align-items: center;
  gap: 16px;
  max-width: 500px;
  margin: 20px auto 0;
}
.rule-line { flex:1; height:1px; background: linear-gradient(90deg, transparent, var(--gold-dim), transparent); }
.rule-gem { width:6px; height:6px; background: var(--gold); transform: rotate(45deg); }

/* â”€â”€ SPREAD SELECTOR â”€â”€ */
.spread-selector {
  display: flex;
  gap: 10px;
  justify-content: center;
  padding: 28px 20px 16px;
  flex-wrap: wrap;
}

.spread-btn {
  font-family: 'Cinzel', serif;
  font-size: 0.72rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  padding: 10px 22px;
  border: 1px solid var(--gold-dim);
  background: rgba(14,8,28,0.6);
  color: var(--silver);
  cursor: pointer;
  border-radius: 2px;
  transition: all 0.3s;
  backdrop-filter: blur(10px);
}

.spread-btn:hover, .spread-btn.active {
  border-color: var(--gold);
  color: var(--gold);
  background: rgba(200,168,75,0.08);
  box-shadow: 0 0 20px rgba(200,168,75,0.15);
}

/* â”€â”€ CARD STAGE â”€â”€ */
.card-stage {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: clamp(12px, 3vw, 32px);
  padding: 20px clamp(12px, 4vw, 40px) 10px;
  flex-wrap: wrap;
  min-height: 380px;
}

.card-slot {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

.slot-label {
  font-family: 'Cinzel', serif;
  font-size: 0.65rem;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: var(--gold);
  opacity: 0.7;
}

/* â”€â”€ TAROT CARD â”€â”€ */
.tarot-card {
  width: clamp(120px, 18vw, 170px);
  height: clamp(210px, 31vw, 295px);
  perspective: 1000px;
  -webkit-perspective: 1000px;
  cursor: pointer;
  position: relative;
}

.card-flipper {
  width: 100%; height: 100%;
  position: relative;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
  transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  -webkit-transition: -webkit-transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
}

.tarot-card.flipped .card-flipper { transform: rotateY(180deg); -webkit-transform: rotateY(180deg); }

.card-face, .card-back {
  position: absolute;
  inset: 0;
  border-radius: 10px;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Card Back */
.card-back {
  background: var(--card-dark);
  border: 2px solid var(--gold-dim);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.card-back svg { width:100%; height:100%; }

/* Card Front */
.card-face {
  background: var(--card-dark);
  border: 2px solid var(--gold);
  transform: rotateY(180deg);
  -webkit-transform: rotateY(180deg);
  overflow: hidden;
  box-shadow: 0 0 30px rgba(200,168,75,0.2), inset 0 0 40px rgba(0,0,0,0.5);
}
.card-face.reversed svg {
  transform: rotate(180deg);
}

.card-face svg { width:100%; height:100%; }

/* Hover glow on unflipped cards */
.tarot-card:not(.flipped):hover .card-back {
  border-color: var(--gold);
  box-shadow: 0 0 25px rgba(200,168,75,0.3), 0 8px 40px rgba(0,0,0,0.5);
}

.tarot-card:not(.flipped) {
  animation: floatCard 3s ease-in-out infinite;
}
.tarot-card:nth-child(1) { animation-delay: 0s; }
.tarot-card:nth-child(2) { animation-delay: 0.4s; }
.tarot-card:nth-child(3) { animation-delay: 0.8s; }
.tarot-card:nth-child(4) { animation-delay: 1.2s; }
.tarot-card:nth-child(5) { animation-delay: 1.6s; }

@keyframes floatCard {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

.tarot-card.flipped { animation: none; }

.card-hint {
  font-family: 'Cinzel', serif;
  font-size: 0.6rem;
  letter-spacing: 0.2em;
  color: var(--silver);
  opacity: 0.5;
  text-transform: uppercase;
  margin-top: -4px;
}

/* â”€â”€ DRAW BUTTON â”€â”€ */
.draw-section {
  padding: 16px 20px 24px;
  text-align: center;
}

.draw-btn {
  font-family: 'Cinzel Decorative', serif;
  font-size: 0.85rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  padding: 16px 48px;
  border: 1px solid var(--gold);
  background: linear-gradient(135deg, rgba(200,168,75,0.12), rgba(200,168,75,0.04));
  color: var(--gold);
  cursor: pointer;
  border-radius: 3px;
  transition: all 0.4s;
  position: relative;
  overflow: hidden;
}

.draw-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(200,168,75,0.2), transparent);
  opacity: 0;
  transition: opacity 0.3s;
}

.draw-btn:hover::before { opacity: 1; }
.draw-btn:hover {
  box-shadow: 0 0 40px rgba(200,168,75,0.3), 0 4px 20px rgba(0,0,0,0.4);
  transform: translateY(-2px);
}

.draw-btn:active { transform: translateY(0); }

.draw-btn.loading {
  pointer-events: none;
  opacity: 0.6;
}

/* â”€â”€ READING PANEL â”€â”€ */
.reading-panel {
  width: 100%;
  max-width: 900px;
  padding: 0 20px 60px;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease, transform 0.6s ease;
  pointer-events: none;
}

.reading-panel.visible {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.reading-divider {
  display: flex;
  align-items: center;
  gap: 20px;
  margin: 10px 0 32px;
}
.reading-divider-line { flex:1; height:1px; background: linear-gradient(90deg,transparent,var(--gold-dim),transparent); }
.reading-divider-text {
  font-family: 'Cinzel', serif;
  font-size: 0.7rem;
  letter-spacing: 0.4em;
  color: var(--gold);
  text-transform: uppercase;
  white-space: nowrap;
}

/* Card reading blocks */
.cards-reading {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
  margin-bottom: 32px;
}

.card-reading-block {
  background: var(--bg-card, linear-gradient(145deg, rgba(26,13,48,0.85), rgba(16,8,32,0.9)));
  border: 1px solid rgba(200,168,75,0.25);
  border-radius: 8px;
  padding: 24px;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
  transition: border-color 0.3s;
}

.card-reading-block::after {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
}

.card-reading-block:hover { border-color: rgba(200,168,75,0.5); }

.reading-card-name {
  font-family: 'Cinzel', serif;
  font-size: 1.05rem;
  color: var(--gold);
  font-weight: 600;
  margin-bottom: 4px;
}

.reading-position {
  font-family: 'Cinzel', serif;
  font-size: 0.62rem;
  letter-spacing: 0.3em;
  color: var(--amethyst);
  text-transform: uppercase;
  margin-bottom: 14px;
  display: block;
}

.reading-keywords {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  margin-bottom: 14px;
}

.kw-tag {
  font-family: 'Cinzel', serif;
  font-size: 0.62rem;
  padding: 2px 10px;
  border: 1px solid rgba(200,168,75,0.3);
  border-radius: 20px;
  color: var(--gold-bright);
  background: rgba(200,168,75,0.06);
}

.reading-text {
  font-size: 1rem;
  line-height: 1.75;
  color: rgba(237,224,192,0.88);
  font-style: italic;
}

/* Overall interpretation */
.overall-block {
  background: linear-gradient(135deg, rgba(46,20,88,0.4), rgba(26,13,48,0.6));
  border: 1px solid rgba(200,168,75,0.35);
  border-radius: 10px;
  padding: 36px;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.overall-block::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse at 50% -20%, rgba(107,63,160,0.15) 0%, transparent 70%);
}

.overall-title {
  font-family: 'Cinzel Decorative', serif;
  font-size: 0.9rem;
  letter-spacing: 0.25em;
  color: var(--gold);
  margin-bottom: 20px;
  position: relative;
}

.overall-text {
  font-size: 1.08rem;
  line-height: 1.9;
  color: var(--cream);
  max-width: 680px;
  margin: 0 auto;
  position: relative;
}

/* Loading state */
.loading-indicator {
  display: none;
  text-align: center;
  padding: 30px;
}

.loading-indicator.show { display: block; }

.oracle-eye {
  width: 50px;
  height: 50px;
  margin: 0 auto 16px;
  animation: spin 3s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.loading-text {
  font-family: 'Cinzel', serif;
  font-size: 0.8rem;
  letter-spacing: 0.3em;
  color: var(--gold);
  text-transform: uppercase;
  animation: fadeInOut 1.5s ease-in-out infinite;
}

@keyframes fadeInOut {
  0%,100% { opacity: 0.4; }
  50% { opacity: 1; }
}

/* Reset button */
.reset-btn {
  display: inline-block;
  font-family: 'Cinzel', serif;
  font-size: 0.7rem;
  letter-spacing: 0.3em;
  text-transform: uppercase;
  padding: 10px 28px;
  border: 1px solid var(--gold-dim);
  background: transparent;
  color: var(--silver);
  cursor: pointer;
  border-radius: 2px;
  transition: all 0.3s;
  margin: 16px auto 0;
}
.reset-btn:hover { border-color: var(--gold); color: var(--gold); }
.draw-section { padding: 8px 20px 20px; text-align: center; }
.reset-btn.show { display: inline-block; }

/* Card name on front */
.card-label-front {
  position: absolute;
  bottom: 0; left:0; right:0;
  padding: 12px 6px 6px;
  text-align: center;
  background: linear-gradient(0deg, rgba(0,0,0,0.95) 60%, transparent);
  font-family: 'Cinzel', serif;
  font-size: 0.6rem;
  letter-spacing: 0.12em;
  color: #f0d060;
  text-transform: uppercase;
  z-index: 10;
  text-shadow: 0 0 8px rgba(0,0,0,1), 0 1px 3px rgba(0,0,0,1);
  font-weight: 600;
}


/* â”€â”€ THEME SWITCHER â”€â”€ */
.theme-bar {
  display: flex;
  gap: 6px;
  justify-content: center;
  padding: 0 20px 16px;
  align-items: center;
}
.theme-bar-label {
  font-family: 'Cinzel', serif;
  font-size: 0.6rem;
  letter-spacing: 0.2em;
  color: var(--silver);
  text-transform: uppercase;
  opacity: 0.6;
  margin-right: 4px;
}
.theme-dot {
  width: 22px; height: 22px;
  border-radius: 50%;
  border: 2px solid transparent;
  cursor: pointer;
  transition: transform 0.2s, border-color 0.2s;
  position: relative;
}
.theme-dot:hover { transform: scale(1.2); }
.theme-dot.active { border-color: var(--gold); }
.theme-dot[data-t="dusk"]      { background: radial-gradient(circle, #2e2448, #1e1828); }
.theme-dot[data-t="midnight"]  { background: radial-gradient(circle, #2e1458, #0d0a1a); }
.theme-dot[data-t="parchment"] { background: radial-gradient(circle, #e8dcc8, #f5ede0); }
.theme-dot[data-t="forest"]    { background: radial-gradient(circle, #1e3018, #0e1a14); }

/* scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--midnight); }
::-webkit-scrollbar-thumb { background: var(--gold-dim); border-radius: 3px; }

/* entry animation */
@keyframes cardEntrance {
  from { opacity:0; transform: translateY(40px) scale(0.9); }
  to { opacity:1; transform: translateY(0) scale(1); }
}

.tarot-card { animation: cardEntrance 0.5s ease both, floatCard 3s ease-in-out 0.5s infinite; }
.tarot-card.flipped { animation: none; }


/* â”€â”€ LANG TOGGLE â”€â”€ */
/* â”€â”€ SHARED FIXED BUTTONS â”€â”€ */
#lang-toggle, #alt-toggle, #coffee-btn, #debug-toggle {
  position: fixed;
  right: 16px;
  z-index: 9999;
  background: rgba(10,6,20,0.9);
  font-family: monospace;
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 4px;
  cursor: pointer;
  letter-spacing: 0.1em;
  min-width: 96px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 6px;
}
.btn-icon {
  font-style: normal;
  font-size: 13px;
  line-height: 1;
  flex-shrink: 0;
}
#coffee-btn .btn-icon {
  font-size: 18px;
}
#lang-toggle {
  bottom: 124px;
  border: 1px solid #4a8050;
  color: #70c080;
}
#lang-toggle:hover {
  background: rgba(74,128,80,0.2);
  border-color: #90d098;
  color: #90d098;
}
/* â”€â”€ ALT TOGGLE â”€â”€ */
#alt-toggle {
  bottom: 88px;
  border: 1px solid #6b3fa0;
  color: #9b6fd0;
}
#alt-toggle.active {
  background: rgba(107,63,160,0.3);
  border-color: #c8a84b;
  color: #c8a84b;
}
/* â”€â”€ COFFEE BUTTON â”€â”€ */
#coffee-btn {
  bottom: 52px;
  border: 1px solid #ff9040;
  color: #ffb060;
  text-decoration: none;
}
#coffee-btn:hover {
  background: rgba(255,144,64,0.2);
  border-color: #ffc880;
  color: #ffc880;
}
/* â”€â”€ DEBUG CONSOLE â”€â”€ */
#debug-toggle {
  bottom: 16px;
  border: 1px solid #c9a84c;
  color: #c9a84c;
}
#debug-panel {
  display: none;
  position: fixed;
  bottom: 50px;
  right: 12px;
  left: 12px;
  max-height: 45vh;
  background: rgba(5,3,12,0.97);
  border: 1px solid #c9a84c;
  border-radius: 6px;
  z-index: 9998;
  overflow-y: auto;
  font-family: 'Courier New', monospace;
  font-size: 11px;
}
#debug-panel.open { display: block; }
#debug-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 10px;
  border-bottom: 1px solid rgba(201,168,76,0.3);
  position: sticky;
  top: 0;
  background: rgba(5,3,12,0.99);
}
#debug-toolbar span { color: #c9a84c; font-size: 10px; letter-spacing: 0.1em; }
#debug-clear { background: none; border: 1px solid #555; color: #aaa; font-size: 10px; padding: 2px 8px; border-radius: 3px; cursor: pointer; }
#debug-log {
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.dlog { color: #b0c8b0; word-break: break-all; line-height: 1.5; }
.dlog.error { color: #ff6060; }
.dlog.warn  { color: #ffcc44; }
.dlog.info  { color: #60b0ff; }
.dlog.ok    { color: #60dd88; }
.dlog .ts   { color: #555; margin-right: 6px; }
#debug-badge {
  display: none;
  position: fixed;
  bottom: 14px;
  right: 14px;
  background: #c00;
  color: #fff;
  font-size: 9px;
  font-family: monospace;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  line-height: 18px;
  text-align: center;
  z-index: 10000;
  pointer-events: none;
}

/* Parchment theme overrides for readability */
[data-theme="parchment"] .slot-label,
[data-theme="parchment"] .reading-divider-text,
[data-theme="parchment"] .spread-btn { color: var(--silver); }
[data-theme="parchment"] body { background: var(--midnight); color: var(--cream); }
[data-theme="parchment"] .card-reading-block { background: rgba(210,195,170,0.85); }
[data-theme="parchment"] .reading-text { color: #3a2a18; }
[data-theme="parchment"] .overall-block { background: rgba(200,180,150,0.5); }
[data-theme="parchment"] #bg-canvas { opacity: 0.3; }

[data-theme="forest"] #bg-canvas { filter: hue-rotate(120deg); }
</style>

</head>
<body>

<canvas id="bg-canvas"></canvas>

<div class="app">
  <header>
    <span class="crown">â˜½ âœ¦ â˜¾</span>
    <h1>Tarot Oracle</h1>
    <p class="tagline">Draw your cards Â· Receive your reading</p>
    <div class="rule">
      <div class="rule-line"></div>
      <div class="rule-gem"></div>
      <div class="rule-line"></div>
    </div>
  </header>

  <div class="spread-selector">
    <button class="spread-btn active" data-spread="1">Single Card</button>
    <button class="spread-btn" data-spread="3">Past Â· Present Â· Future</button>
    <button class="spread-btn" data-spread="5">Celtic Cross (5)</button>
  </div>

  <p style="text-align:center;font-family:'Cinzel',serif;font-size:0.65rem;letter-spacing:0.2em;color:var(--silver);opacity:0.55;padding:0 20px 8px;text-transform:uppercase;">Tap a card Â· Space or Enter for next</p>
  <div class="theme-bar">
    <span class="theme-bar-label">Theme</span>
    <span class="theme-dot active" data-t="dusk"     title="Dusk"></span>
    <span class="theme-dot"        data-t="midnight"  title="Midnight"></span>
    <span class="theme-dot"        data-t="parchment" title="Parchment"></span>
    <span class="theme-dot"        data-t="forest"    title="Forest"></span>
  </div>

  <div class="card-stage" id="cardStage"></div>

  <div class="draw-section">
    <button class="reset-btn" id="resetBtn">â†º New Reading</button>
  </div>

  <div class="reading-panel" id="readingPanel">
    <div class="reading-divider">
      <div class="reading-divider-line"></div>
      <span class="reading-divider-text">The Oracle Speaks</span>
      <div class="reading-divider-line"></div>
    </div>

    <div class="loading-indicator" id="loadingIndicator">
      <svg class="oracle-eye" viewBox="0 0 50 50">
        <circle cx="25" cy="25" r="22" fill="none" stroke="rgba(200,168,75,0.2)" stroke-width="1"/>
        <circle cx="25" cy="25" r="18" fill="none" stroke="rgba(200,168,75,0.4)" stroke-width="0.5" stroke-dasharray="4 4"/>
        <circle cx="25" cy="25" r="10" fill="none" stroke="#c8a84b" stroke-width="1" stroke-dasharray="6 3"/>
        <ellipse cx="25" cy="25" rx="5" ry="8" fill="rgba(200,168,75,0.15)" stroke="#c8a84b" stroke-width="0.8"/>
        <circle cx="25" cy="25" r="3" fill="#c8a84b" opacity="0.8"/>
      </svg>
      <div class="loading-text">The oracle contemplates...</div>
    </div>

    <div class="cards-reading" id="cardsReading"></div>

    <div class="overall-block" id="overallBlock" style="display:none">
      <div class="overall-title">â˜½ âœ¦ The Complete Vision âœ¦ â˜¾</div>
      <div class="overall-text" id="overallText"></div>
    </div>
  </div>

  <!-- LANGUAGE TOGGLE -->
  <button id="lang-toggle" onclick="cycleLang()"><span id="lang-text">ENG</span><i class="btn-icon">ğŸŒ</i></button>
  <!-- ALT MODE TOGGLE -->
  <button id="alt-toggle" onclick="toggleAlt()"><span>Funny</span><i class="btn-icon">ğŸ˜‚</i></button>
  <!-- BUY ME A COFFEE -->
  <a id="coffee-btn" href="https://buymeacoffee.com/tsygankov9" target="_blank" rel="noopener"><span>Buy me</span><i class="btn-icon">â˜•</i></a>
  <!-- DEBUG CONSOLE -->
  <button id="debug-toggle" onclick="toggleDebug()"><span>Debug</span><i class="btn-icon">ğŸ”</i></button>
  <span id="debug-badge"></span>
  <div id="debug-panel">
    <div id="debug-toolbar">
      <span>IN-APP CONSOLE</span>
      <button id="debug-clear" onclick="clearDebug()">CLEAR</button>
    </div>
    <div id="debug-log"></div>
  </div>
</div>

<script>

// â”€â”€ IN-APP DEBUG CONSOLE â”€â”€
var _errorCount = 0;
var _debugOpen = false;

function dlog(msg, type) {
  type = type || 'log';
  var panel = document.getElementById('debug-log');
  if (!panel) return;
  var d = document.createElement('div');
  d.className = 'dlog ' + (type === 'error' ? 'error' : type === 'warn' ? 'warn' : type === 'info' ? 'info' : type === 'ok' ? 'ok' : '');
  var now = new Date();
  var ts = ('0'+now.getHours()).slice(-2)+':'+('0'+now.getMinutes()).slice(-2)+':'+('0'+now.getSeconds()).slice(-2);
  d.innerHTML = '<span class="ts">['+ts+']</span>' + String(msg).replace(/</g,'&lt;');
  panel.appendChild(d);
  panel.scrollTop = panel.scrollHeight;
  if (type === 'error') {
    _errorCount++;
    var badge = document.getElementById('debug-badge');
    if (badge) { badge.textContent = _errorCount; badge.style.display = 'block'; }
  }
}

function toggleDebug() {
  _debugOpen = !_debugOpen;
  var panel = document.getElementById('debug-panel');
  var badge = document.getElementById('debug-badge');
  if (panel) panel.className = _debugOpen ? 'open' : '';
  if (badge && _debugOpen) badge.style.display = 'none';
}

function clearDebug() {
  var panel = document.getElementById('debug-log');
  if (panel) panel.innerHTML = '';
  _errorCount = 0;
  var badge = document.getElementById('debug-badge');
  if (badge) badge.style.display = 'none';
}

// Intercept console and window errors
(function() {
  var _origError = console.error.bind(console);
  var _origWarn  = console.warn.bind(console);
  var _origLog   = console.log.bind(console);
  console.error = function() { _origError.apply(console,arguments); dlog(Array.from(arguments).join(' '),'error'); };
  console.warn  = function() { _origWarn.apply(console,arguments);  dlog(Array.from(arguments).join(' '),'warn'); };
  console.log   = function() { _origLog.apply(console,arguments);   dlog(Array.from(arguments).join(' '),'log'); };
  window.addEventListener('error', function(e) {
    var detail = 'UNCAUGHT: ' + e.message
      + ' | file: ' + (e.filename ? e.filename.split('/').pop() : '?')
      + ' | line: ' + e.lineno + ':' + e.colno
      + (e.error && e.error.stack ? ' | stack: ' + e.error.stack.split('\n').slice(0,2).join(' ') : '');
    dlog(detail, 'error');
  });
  window.addEventListener('unhandledrejection', function(e) {
    var msg = e.reason ? (e.reason.message || String(e.reason)) : 'unknown rejection';
    var stack = e.reason && e.reason.stack ? ' | ' + e.reason.stack.split('\n').slice(0,2).join(' ') : '';
    dlog('PROMISE REJECTED: ' + msg + stack, 'error');
  });
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SOUND SYSTEM (Web Audio API synthesized)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var _audioCtx = null;
var _themeNodes = [];

function _getAudioCtx() {
  if (!_audioCtx) _audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  return _audioCtx;
}

// Card flip sound â€” randomly picks B (cloth rustle) or C (parchment crackle)
function playCardFlip() {
  try {
    var ctx = _getAudioCtx();
    if (ctx.state === 'suspended') ctx.resume();
    if (Math.random() < 0.5) { _playClothRustle(ctx); } else { _playParchmentCrackle(ctx); }
  } catch(e) { dlog('Sound error: ' + e.message, 'warn'); }
}

// B: Soft cloth rustle
function _playClothRustle(ctx) {
  var dur = 0.8;
  var bufLen = ctx.sampleRate * dur;
  var buf = ctx.createBuffer(1, bufLen, ctx.sampleRate);
  var data = buf.getChannelData(0);
  for (var i = 0; i < bufLen; i++) {
    var t = i / ctx.sampleRate;
    var env = Math.sin(Math.PI * t / dur) * 0.5;
    var prev = i > 0 ? data[i-1] : 0;
    data[i] = prev + (Math.random() * 2 - 1) * 0.08;
    data[i] = data[i] * env;
    if (data[i] > 1) data[i] = 1;
    if (data[i] < -1) data[i] = -1;
  }
  var src = ctx.createBufferSource();
  src.buffer = buf;
  var filt = ctx.createBiquadFilter();
  filt.type = 'lowpass';
  filt.frequency.value = 1200;
  var gain = ctx.createGain();
  gain.gain.value = 1.0;
  src.connect(filt);
  filt.connect(gain);
  gain.connect(ctx.destination);
  src.start();
}

// C: Parchment crackle
function _playParchmentCrackle(ctx) {
  var dur = 0.6;
  var bufLen = ctx.sampleRate * dur;
  var buf = ctx.createBuffer(1, bufLen, ctx.sampleRate);
  var data = buf.getChannelData(0);
  for (var i = 0; i < bufLen; i++) {
    var t = i / ctx.sampleRate;
    var env = Math.exp(-t * 5) * 0.7;
    var crackle = 0;
    if (Math.random() < 0.06) crackle = (Math.random() - 0.5) * 1.5;
    var base = (Math.random() * 2 - 1) * 0.15;
    data[i] = (base + crackle) * env;
  }
  var src = ctx.createBufferSource();
  src.buffer = buf;
  var hp = ctx.createBiquadFilter();
  hp.type = 'highpass';
  hp.frequency.value = 800;
  var peak = ctx.createBiquadFilter();
  peak.type = 'peaking';
  peak.frequency.value = 4000;
  peak.gain.value = 6;
  peak.Q.value = 1;
  var gain = ctx.createGain();
  gain.gain.value = 0.7;
  src.connect(hp);
  hp.connect(peak);
  peak.connect(gain);
  gain.connect(ctx.destination);
  src.start();
  // Second crackle wave
  var buf2 = ctx.createBuffer(1, bufLen, ctx.sampleRate);
  var data2 = buf2.getChannelData(0);
  for (var i = 0; i < bufLen; i++) {
    var t = i / ctx.sampleRate;
    var env2 = Math.exp(-(t - 0.1) * (t - 0.1) * 80) * 0.4;
    if (Math.random() < 0.08) data2[i] = (Math.random() - 0.5) * env2 * 2;
    else data2[i] = (Math.random() * 2 - 1) * 0.05 * env2;
  }
  var src2 = ctx.createBufferSource();
  src2.buffer = buf2;
  src2.connect(hp);
  src2.start(ctx.currentTime + 0.12);
}

// Theme 1: Crystal Bowl Hum â€” starts and loops while AI is reading
function startThemeSound() {
  try {
    stopThemeSound();
    var ctx = _getAudioCtx();
    if (ctx.state === 'suspended') ctx.resume();
    var dur = 10;

    function createLayer() {
      var freqs = [220, 330, 440, 554, 660];
      freqs.forEach(function(f, idx) {
        var osc = ctx.createOscillator();
        osc.type = 'sine';
        osc.frequency.value = f + Math.sin(idx) * 0.5;
        var osc2 = ctx.createOscillator();
        osc2.type = 'sine';
        osc2.frequency.value = f + 1.2;
        var g = ctx.createGain();
        var vol = 0.04 / (idx + 1);
        g.gain.setValueAtTime(0, ctx.currentTime);
        g.gain.linearRampToValueAtTime(vol, ctx.currentTime + 2);
        g.gain.setValueAtTime(vol, ctx.currentTime + dur - 1.5);
        g.gain.linearRampToValueAtTime(0, ctx.currentTime + dur);
        osc.connect(g);
        osc2.connect(g);
        g.connect(ctx.destination);
        osc.start();
        osc2.start();
        osc.stop(ctx.currentTime + dur);
        osc2.stop(ctx.currentTime + dur);
        _themeNodes.push(osc, osc2);
      });
      // Shimmer
      var shimmer = ctx.createOscillator();
      shimmer.type = 'sine';
      shimmer.frequency.value = 1760;
      var shimGain = ctx.createGain();
      shimGain.gain.setValueAtTime(0, ctx.currentTime);
      shimGain.gain.linearRampToValueAtTime(0.01, ctx.currentTime + 3);
      shimGain.gain.setValueAtTime(0.01, ctx.currentTime + dur - 2);
      shimGain.gain.linearRampToValueAtTime(0, ctx.currentTime + dur);
      var lfo = ctx.createOscillator();
      lfo.frequency.value = 3;
      var lfoGain = ctx.createGain();
      lfoGain.gain.value = 0.006;
      lfo.connect(lfoGain);
      lfoGain.connect(shimGain.gain);
      shimmer.connect(shimGain);
      shimGain.connect(ctx.destination);
      shimmer.start();
      lfo.start();
      shimmer.stop(ctx.currentTime + dur);
      lfo.stop(ctx.currentTime + dur);
      _themeNodes.push(shimmer, lfo);
    }

    createLayer();
    // Loop: re-create every 9 seconds for seamless overlap
    var _themeInterval = setInterval(function() {
      if (_themeNodes.length === 0) { clearInterval(_themeInterval); return; }
      createLayer();
    }, 9000);
    _themeNodes._interval = _themeInterval;
  } catch(e) { dlog('Theme sound error: ' + e.message, 'warn'); }
}

function stopThemeSound() {
  if (_themeNodes._interval) clearInterval(_themeNodes._interval);
  _themeNodes.forEach(function(n) { try { n.stop(); } catch(e){} try { n.disconnect(); } catch(e){} });
  _themeNodes = [];
}

var APP_VERSION = 'v1-27';
dlog('Version: ' + APP_VERSION, 'info');
dlog('Host: ' + location.hostname + location.pathname, 'info');
dlog('iOS: ' + /iPhone|iPad|iPod/.test(navigator.userAgent) + ' | Safari: ' + /Safari/.test(navigator.userAgent) + ' | ' + navigator.userAgent.substring(0,80), 'info');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STARFIELD BACKGROUND
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
(function() {
  var canvas = document.getElementById('bg-canvas');
  var ctx = canvas.getContext('2d');
  var W, H, stars = [], nebulas = [];

  function resize() {
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
  }

  function initStars() {
    stars = [];
    for (var i = 0; i < 180; i++) {
      stars.push({
        x: Math.random() * W,
        y: Math.random() * H,
        r: Math.random() * 1.2 + 0.2,
        alpha: Math.random() * 0.7 + 0.2,
        speed: Math.random() * 0.003 + 0.001,
        phase: Math.random() * Math.PI * 2,
        gold: Math.random() < 0.15
      });
    }
    nebulas = [
      { x: W * 0.2, y: H * 0.3, r: 200, color: '107,63,160' },
      { x: W * 0.8, y: H * 0.6, r: 180, color: '45,20,88' },
      { x: W * 0.5, y: H * 0.8, r: 250, color: '30,10,60' },
    ];
  }

  function draw(t) {
    ctx.clearRect(0, 0, W, H);

    // Nebulas
    nebulas.forEach(n => {
      var g = ctx.createRadialGradient(n.x, n.y, 0, n.x, n.y, n.r);
      g.addColorStop(0, 'rgba('+n.color+',0.08)');
      g.addColorStop(1, 'rgba('+n.color+',0)');
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(n.x, n.y, n.r, 0, Math.PI * 2);
      ctx.fill();
    });

    // Stars
    stars.forEach(s => {
      var a = s.alpha * (0.6 + 0.4 * Math.sin(t * s.speed * 1000 + s.phase));
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
      ctx.fillStyle = s.gold
        ? 'rgba(200,168,75,'+a+')'
        : 'rgba(200,210,240,'+a+')';
      ctx.fill();
    });

    requestAnimationFrame(draw);
  }

  window.addEventListener('resize', () => { resize(); initStars(); });
  resize();
  initStars();
  requestAnimationFrame(draw);
})();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CARD BACK SVG
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function cardBackSVG(w, h) {
  var diamonds = '';
  for (var i = 0; i < 6; i++) {
    for (var j = 0; j < 10; j++) {
      var x = i * (w / 5) + w / 10;
      var y = j * (h / 9) + h / 18;
      diamonds += '<polygon points="' + x + ',' + (y-8) + ' ' + (x+6) + ',' + y + ' ' + x + ',' + (y+8) + ' ' + (x-6) + ',' + y + '" fill="none" stroke="rgba(200,168,75,0.15)" stroke-width="0.5"/>';
    }
  }
  var cx = w / 2, cy = h / 2;
  return '<svg viewBox="0 0 ' + w + ' ' + h + '" xmlns="http://www.w3.org/2000/svg">'
    + '<rect width="' + w + '" height="' + h + '" fill="#100820"/>'
    + '<rect x="8" y="8" width="' + (w-16) + '" height="' + (h-16) + '" fill="none" stroke="rgba(200,168,75,0.4)" stroke-width="0.8" rx="5"/>'
    + '<rect x="14" y="14" width="' + (w-28) + '" height="' + (h-28) + '" fill="none" stroke="rgba(200,168,75,0.2)" stroke-width="0.6" rx="3"/>'
    + diamonds
    + '<circle cx="' + cx + '" cy="' + cy + '" r="28" fill="none" stroke="rgba(200,168,75,0.35)" stroke-width="0.8"/>'
    + '<circle cx="' + cx + '" cy="' + cy + '" r="20" fill="rgba(200,168,75,0.06)" stroke="rgba(200,168,75,0.25)" stroke-width="0.6"/>'
    + '<circle cx="' + cx + '" cy="' + cy + '" r="10" fill="rgba(200,168,75,0.1)" stroke="rgba(200,168,75,0.4)" stroke-width="0.8"/>'
    + '<circle cx="' + cx + '" cy="' + cy + '" r="3" fill="rgba(200,168,75,0.6)"/>'
    + '<line x1="' + cx + '" y1="' + (cy-30) + '" x2="' + cx + '" y2="' + (cy+30) + '" stroke="rgba(200,168,75,0.2)" stroke-width="0.5"/>'
    + '<line x1="' + (cx-30) + '" y1="' + cy + '" x2="' + (cx+30) + '" y2="' + cy + '" stroke="rgba(200,168,75,0.2)" stroke-width="0.5"/>'
    + '<text x="' + cx + '" y="30" font-family="serif" font-size="11" fill="rgba(200,168,75,0.5)" text-anchor="middle" letter-spacing="3">TAROT</text>'
    + '<text x="' + cx + '" y="' + (h-16) + '" font-family="serif" font-size="11" fill="rgba(200,168,75,0.5)" text-anchor="middle" letter-spacing="3">ORACLE</text>'
    + '</svg>';
}

// SVG CARD ARTWORK (inline SVG generators)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function svgBase(w,h,content,numText,nameText) {
  var stars = '<circle cx="'+(w*0.09)+'" cy="'+(h*0.07)+'" r="0.8" fill="#fff" opacity="0.55"/>'
    +'<circle cx="'+(w*0.91)+'" cy="'+(h*0.05)+'" r="1.1" fill="#fff" opacity="0.7"/>'
    +'<circle cx="'+(w*0.76)+'" cy="'+(h*0.19)+'" r="0.9" fill="#c9a84c" opacity="0.65"/>'
    +'<circle cx="'+(w*0.18)+'" cy="'+(h*0.14)+'" r="0.7" fill="#fff" opacity="0.45"/>'
    +'<circle cx="'+(w*0.85)+'" cy="'+(h*0.32)+'" r="0.6" fill="#fff" opacity="0.35"/>'
    +'<circle cx="'+(w*0.06)+'" cy="'+(h*0.38)+'" r="0.5" fill="#c9a84c" opacity="0.4"/>';
  var borders = '<rect x="5" y="5" width="'+(w-10)+'" height="'+(h-10)+'" fill="none" stroke="rgba(200,168,75,0.35)" stroke-width="1" rx="7"/>'
    +'<rect x="9" y="9" width="'+(w-18)+'" height="'+(h-18)+'" fill="none" stroke="rgba(200,168,75,0.15)" stroke-width="0.5" rx="4"/>';
  var numLabel = '<text x="'+(w/2)+'" y="22" font-family="serif" font-size="'+(w*0.09)+'" fill="#000" text-anchor="middle" opacity="0.6" dx="0.5" dy="0.5">'+numText+'</text>'
    +'<text x="'+(w/2)+'" y="22" font-family="serif" font-size="'+(w*0.09)+'" fill="#e0c060" text-anchor="middle" opacity="0.95">'+numText+'</text>';
  var nameBar = '<rect x="0" y="'+(h-28)+'" width="'+w+'" height="28" fill="rgba(0,0,0,0.7)"/>'
    +'<text x="'+(w/2)+'" y="'+(h-10)+'" font-family="serif" font-size="'+(w*0.072)+'" fill="#f5d050" text-anchor="middle" font-weight="bold" letter-spacing="1">'+nameText.toUpperCase()+'</text>';
  var defs = '<defs><radialGradient id="bg_'+numText+'" cx="50%" cy="35%">'
    +'<stop offset="0%" stop-color="#1c0c38"/>'
    +'<stop offset="100%" stop-color="#050210"/>'
    +'</radialGradient></defs>';
  return '<svg viewBox="0 0 '+w+' '+h+'" xmlns="http://www.w3.org/2000/svg">'
    +defs
    +'<rect width="'+w+'" height="'+h+'" fill="url(#bg_'+numText+')"/>'
    +content+stars+borders+numLabel+nameBar
    +'</svg>';
}

function drawFool(w,h) {
  var c = '' +' <path d="M0,'+(h*0.68)+' Q'+(w*0.28)+','+(h*0.55)+' '+(w*0.52)+','+(h*0.62)+' L'+(w*0.58)+','+h+' L0,'+h+'Z" fill="#0d1f0a" opacity="0.95"/>'
  +' <circle cx="'+(w*0.72)+'" cy="'+(h*0.15)+'" r="'+(w*0.15)+'" fill="#fff8d0" opacity="0.18"/>'
  +' <circle cx="'+(w*0.72)+'" cy="'+(h*0.15)+'" r="'+(w*0.1)+'" fill="#ffe8a0" opacity="0.3"/>'
  +' <path d="M0,'+(h*0.55)+' L'+(w*0.18)+','+(h*0.35)+' L'+(w*0.32)+','+(h*0.5)+' L'+(w*0.48)+','+(h*0.28)+' L'+(w*0.62)+','+(h*0.46)+' L'+(w*0.78)+','+(h*0.3)+' L'+w+','+(h*0.48)+' L'+w+','+(h*0.7)+' L0,'+(h*0.7)+'Z" fill="#1a2035" opacity="0.9"/>'
  +' <polygon points="'+(w*0.48)+','+(h*0.28)+' '+(w*0.44)+','+(h*0.36)+' '+(w*0.52)+','+(h*0.36)+'" fill="#d8e0f0" opacity="0.4"/>'
  +' <line x1="'+(w*0.1)+'" y1="'+(h*0.7)+'" x2="'+(w*0.08)+'" y2="'+(h*0.62)+'" stroke="#2a4010" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.22)+'" y1="'+(h*0.69)+'" x2="'+(w*0.2)+'" y2="'+(h*0.62)+'" stroke="#2a4010" stroke-width="1.5"/>'
  +' <ellipse cx="'+(w*0.3)+'" cy="'+(h*0.66)+'" rx="'+(w*0.1)+'" ry="'+(w*0.065)+'" fill="#b09070" opacity="0.95"/>'
  +' <circle cx="'+(w*0.38)+'" cy="'+(h*0.61)+'" r="'+(w*0.05)+'" fill="#b09070"/>'
  +' <circle cx="'+(w*0.405)+'" cy="'+(h*0.595)+'" r="'+(w*0.018)+'" fill="#1a1008"/>'
  +' <path d="M'+(w*0.37)+','+(h*0.645)+' Q'+(w*0.34)+','+(h*0.68)+' '+(w*0.32)+','+(h*0.67)+'" fill="none" stroke="#c06040" stroke-width="1.2"/>'
  +' <line x1="'+(w*0.22)+'" y1="'+(h*0.69)+'" x2="'+(w*0.18)+'" y2="'+(h*0.58)+'" stroke="#b09070" stroke-width="2.5" stroke-linecap="round"/>'
  +' <ellipse cx="'+(w*0.54)+'" cy="'+(h*0.5)+'" rx="'+(w*0.07)+'" ry="'+(w*0.085)+'" fill="#f0c890"/>'
  +' <circle cx="'+(w*0.56)+'" cy="'+(h*0.48)+'" r="'+(w*0.018)+'" fill="#3a2010"/>'
  +' <path d="M'+(w*0.51)+','+(h*0.52)+' Q'+(w*0.54)+','+(h*0.54)+' '+(w*0.57)+','+(h*0.52)+'" fill="none" stroke="#c07060" stroke-width="1"/>'
  +' <path d="M'+(w*0.46)+','+(h*0.57)+' L'+(w*0.5)+','+(h*0.7)+' L'+(w*0.62)+','+(h*0.7)+' L'+(w*0.62)+','+(h*0.57)+'Z" fill="#c84040" opacity="0.9"/>'
  +' <rect x="'+(w*0.46)+'" y="'+(h*0.565)+'" width="'+(w*0.16)+'" height="'+(h*0.03)+'" fill="#e8a020" opacity="0.9"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.7)+'" x2="'+(w*0.48)+'" y2="'+(h*0.83)+'" stroke="#4a3020" stroke-width="4" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.58)+'" y1="'+(h*0.7)+'" x2="'+(w*0.62)+'" y2="'+(h*0.83)+'" stroke="#4a3020" stroke-width="4" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.68)+'" y1="'+(h*0.38)+'" x2="'+(w*0.6)+'" y2="'+(h*0.72)+'" stroke="#8a6820" stroke-width="2.5"/>'
  +' <ellipse cx="'+(w*0.69)+'" cy="'+(h*0.37)+'" rx="'+(w*0.055)+'" ry="'+(w*0.045)+'" fill="#8b5513" opacity="0.9"/>'
  +' <line x1="'+(w*0.48)+'" y1="'+(h*0.57)+'" x2="'+(w*0.42)+'" y2="'+(h*0.52)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.42)+'" y1="'+(h*0.52)+'" x2="'+(w*0.38)+'" y2="'+(h*0.44)+'" stroke="#4a8020" stroke-width="1.5"/>'
  +' <circle cx="'+(w*0.38)+'" cy="'+(h*0.42)+'" r="'+(w*0.03)+'" fill="#ff80a0"/>'
  +' <circle cx="'+(w*0.38)+'" cy="'+(h*0.42)+'" r="'+(w*0.015)+'" fill="#ffee80"/>';
  return svgBase(w,h,c,'0','THE FOOL');
}

function drawMagician(w,h) {
  var c = '' +' <path d="M0,'+(h*0.65)+' L'+w+','+(h*0.65)+' L'+w+','+h+' L0,'+h+'Z" fill="#0a1f08" opacity="0.8"/>'
  +' <line x1="'+(w*0.1)+'" y1="'+(h*0.65)+'" x2="'+(w*0.08)+'" y2="'+(h*0.5)+'" stroke="#2a5010" stroke-width="2"/>'
  +' <circle cx="'+(w*0.08)+'" cy="'+(h*0.48)+'" r="'+(w*0.03)+'" fill="#c02040"/>'
  +' <line x1="'+(w*0.88)+'" y1="'+(h*0.65)+'" x2="'+(w*0.9)+'" y2="'+(h*0.5)+'" stroke="#2a5010" stroke-width="2"/>'
  +' <circle cx="'+(w*0.9)+'" cy="'+(h*0.48)+'" r="'+(w*0.03)+'" fill="#c02040"/>'
  +' <rect x="'+(w*0.12)+'" y="'+(h*0.52)+'" width="'+(w*0.76)+'" height="'+(h*0.07)+'" rx="4" fill="#2a1008" stroke="#c9a84c" stroke-width="1"/>'
  +' <path d="M'+(w*0.12)+','+(h*0.59)+' Q'+(w*0.5)+','+(h*0.65)+' '+(w*0.88)+','+(h*0.59)+' L'+(w*0.88)+','+(h*0.63)+' Q'+(w*0.5)+','+(h*0.68)+' '+(w*0.12)+','+(h*0.63)+'Z" fill="#601080" opacity="0.5"/>'
  +' <circle cx="'+(w*0.24)+'" cy="'+(h*0.49)+'" r="'+(w*0.04)+'" fill="none" stroke="#c9a84c" stroke-width="1.8"/>'
  +' <rect x="'+(w*0.22)+'" y="'+(h*0.49)+'" width="'+(w*0.04)+'" height="'+(h*0.03)+'" fill="none" stroke="#c9a84c" stroke-width="0.8"/>'
  +' <polygon points="'+(w*0.39)+','+(h*0.46)+' '+(w*0.43)+','+(h*0.52)+' '+(w*0.35)+','+(h*0.52)+'" fill="#c9a84c"/>'
  +' <line x1="'+(w*0.57)+'" y1="'+(h*0.44)+'" x2="'+(w*0.57)+'" y2="'+(h*0.52)+'" stroke="#d0d0e0" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.54)+'" y1="'+(h*0.48)+'" x2="'+(w*0.6)+'" y2="'+(h*0.48)+'" stroke="#d0d0e0" stroke-width="1.5"/>'
  +' <rect x="'+(w*0.7)+'" y="'+(h*0.47)+'" width="'+(w*0.08)+'" height="'+(h*0.05)+'" rx="2" fill="#a06020" opacity="0.9"/>'
  +' <circle cx="'+(w*0.74)+'" cy="'+(h*0.46)+'" r="'+(w*0.02)+'" fill="#ff8040"/>'
  +' <path d="M'+(w*0.36)+','+(h*0.38)+' L'+(w*0.28)+','+(h*0.52)+' L'+(w*0.72)+','+(h*0.52)+' L'+(w*0.64)+','+(h*0.38)+'Z" fill="#c04040" opacity="0.85"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.3)+'" rx="'+(w*0.09)+'" ry="'+(w*0.1)+'" fill="#f0c890"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.21)+'" rx="'+(w*0.14)+'" ry="'+(h*0.022)+'" fill="#101010"/>'
  +' <rect x="'+(w*0.44)+'" y="'+(h*0.1)+'" width="'+(w*0.12)+'" height="'+(h*0.12)+'" rx="2" fill="#101010"/>'
  +' <circle cx="'+(w*0.46)+'" cy="'+(h*0.29)+'" r="'+(w*0.018)+'" fill="#3a2010"/>'
  +' <circle cx="'+(w*0.54)+'" cy="'+(h*0.29)+'" r="'+(w*0.018)+'" fill="#3a2010"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.1)+'" x2="'+(w*0.5)+'" y2="'+(h*0.38)+'" stroke="#8a6820" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.08)+'" r="'+(w*0.025)+'" fill="#ffe040"/>'
  +' <path d="M'+(w*0.35)+','+(h*0.08)+' Q'+(w*0.4)+','+(h*0.04)+' '+(w*0.5)+','+(h*0.08)+' Q'+(w*0.6)+','+(h*0.12)+' '+(w*0.65)+','+(h*0.08)+' Q'+(w*0.6)+','+(h*0.04)+' '+(w*0.5)+','+(h*0.08)+' Q'+(w*0.4)+','+(h*0.12)+' '+(w*0.35)+','+(h*0.08)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.38)+'" y1="'+(h*0.42)+'" x2="'+(w*0.26)+'" y2="'+(h*0.52)+'" stroke="#f0c890" stroke-width="3" stroke-linecap="round"/>';
  return svgBase(w,h,c,'I','THE MAGICIAN');
}

function drawHighPriestess(w,h) {
  var c = '' +' <path d="M'+(w*0.22)+','+(h*0.58)+' Q'+(w*0.5)+','+(h*0.53)+' '+(w*0.78)+','+(h*0.58)+' L'+(w*0.8)+','+(h*0.93)+' Q'+(w*0.5)+','+(h*0.87)+' '+(w*0.2)+','+(h*0.93)+'Z" fill="#0a0420" stroke="#c9a84c" stroke-width="0.5" opacity="0.85"/>'
  +' <circle cx="'+(w*0.32)+'" cy="'+(h*0.72)+'" r="'+(w*0.04)+'" fill="#8b1a2a" opacity="0.7"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.7)+'" r="'+(w*0.04)+'" fill="#8b1a2a" opacity="0.7"/>'
  +' <circle cx="'+(w*0.68)+'" cy="'+(h*0.72)+'" r="'+(w*0.04)+'" fill="#8b1a2a" opacity="0.7"/>'
  +' <circle cx="'+(w*0.41)+'" cy="'+(h*0.78)+'" r="'+(w*0.032)+'" fill="#8b1a2a" opacity="0.6"/>'
  +' <circle cx="'+(w*0.59)+'" cy="'+(h*0.78)+'" r="'+(w*0.032)+'" fill="#8b1a2a" opacity="0.6"/>'
  +' <rect x="'+(w*0.08)+'" y="'+(h*0.2)+'" width="'+(w*0.16)+'" height="'+(h*0.55)+'" rx="3" fill="#1a0840" stroke="#c9a84c" stroke-width="1"/>'
  +' <rect x="'+(w*0.76)+'" y="'+(h*0.2)+'" width="'+(w*0.16)+'" height="'+(h*0.55)+'" rx="3" fill="#0d0820" stroke="#c9a84c" stroke-width="1"/>'
  +' <rect x="'+(w*0.06)+'" y="'+(h*0.19)+'" width="'+(w*0.2)+'" height="'+(h*0.024)+'" rx="2" fill="#c9a84c" opacity="0.6"/>'
  +' <rect x="'+(w*0.74)+'" y="'+(h*0.19)+'" width="'+(w*0.2)+'" height="'+(h*0.024)+'" rx="2" fill="#c9a84c" opacity="0.6"/>'
  +' <text x="'+(w*0.16)+'" y="'+(h*0.31)+'" font-family="serif" font-size="'+(w*0.11)+'" fill="#c9a84c" text-anchor="middle" opacity="0.9">B</text>'
  +' <text x="'+(w*0.84)+'" y="'+(h*0.31)+'" font-family="serif" font-size="'+(w*0.11)+'" fill="#c9a84c" text-anchor="middle" opacity="0.9">J</text>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.19)+'" rx="'+(w*0.15)+'" ry="'+(h*0.034)+'" fill="#c9a84c" opacity="0.8"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.175)+'" r="'+(w*0.045)+'" fill="#f0e8c0" opacity="0.9"/>'
  +' <path d="M'+(w*0.36)+','+(h*0.19)+' Q'+(w*0.39)+','+(h*0.135)+' '+(w*0.43)+','+(h*0.19)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <path d="M'+(w*0.57)+','+(h*0.19)+' Q'+(w*0.61)+','+(h*0.135)+' '+(w*0.64)+','+(h*0.19)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.55)+'" rx="'+(w*0.22)+'" ry="'+(h*0.22)+'" fill="#13094f" opacity="0.95"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.34)+'" rx="'+(w*0.1)+'" ry="'+(w*0.11)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.3)+','+(h*0.43)+' Q'+(w*0.18)+','+(h*0.58)+' '+(w*0.22)+','+(h*0.78)+' L'+(w*0.34)+','+(h*0.76)+' Q'+(w*0.28)+','+(h*0.62)+' '+(w*0.36)+','+(h*0.45)+'Z" fill="#1a2fa0" opacity="0.4"/>'
  +' <path d="M'+(w*0.7)+','+(h*0.43)+' Q'+(w*0.82)+','+(h*0.58)+' '+(w*0.78)+','+(h*0.78)+' L'+(w*0.66)+','+(h*0.76)+' Q'+(w*0.72)+','+(h*0.62)+' '+(w*0.64)+','+(h*0.45)+'Z" fill="#1a2fa0" opacity="0.4"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.46)+'" x2="'+(w*0.5)+'" y2="'+(h*0.59)+'" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.44)+'" y1="'+(h*0.52)+'" x2="'+(w*0.56)+'" y2="'+(h*0.52)+'" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <rect x="'+(w*0.4)+'" y="'+(h*0.46)+'" width="'+(w*0.2)+'" height="'+(h*0.22)+'" rx="3" fill="#e8d5a0" stroke="#8a6820" stroke-width="0.8"/>'
  +' <text x="'+(w*0.5)+'" y="'+(h*0.56)+'" font-family="serif" font-size="'+(w*0.08)+'" fill="#5a3810" text-anchor="middle">TORA</text>'
  +' <ellipse cx="'+(w*0.46)+'" cy="'+(h*0.34)+'" rx="'+(w*0.025)+'" ry="'+(w*0.016)+'" fill="#fff"/>'
  +' <ellipse cx="'+(w*0.54)+'" cy="'+(h*0.34)+'" rx="'+(w*0.025)+'" ry="'+(w*0.016)+'" fill="#fff"/>'
  +' <circle cx="'+(w*0.46)+'" cy="'+(h*0.34)+'" r="'+(w*0.014)+'" fill="#1a0840"/>'
  +' <circle cx="'+(w*0.54)+'" cy="'+(h*0.34)+'" r="'+(w*0.014)+'" fill="#1a0840"/>'
  +' <path d="M'+(w*0.45)+','+(h*0.38)+' Q'+(w*0.5)+','+(h*0.4)+' '+(w*0.55)+','+(h*0.38)+'" fill="none" stroke="#c07070" stroke-width="1"/>';
  return svgBase(w,h,c,'II','HIGH PRIESTESS');
}

function drawEmpress(w,h) {
  var c = '' +' <rect x="0" y="'+(h*0.58)+'" width="'+w+'" height="'+(h*0.42)+'" fill="#0d2008" opacity="0.9"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.12)+'" r="'+(w*0.22)+'" fill="#c9a84c" opacity="0.07"/>'
  +' <path d="M'+(w*0.88)+','+(h*0.35)+' Q'+(w*0.9)+','+(h*0.5)+' '+(w*0.86)+','+(h*0.65)+'" fill="none" stroke="#6090c0" stroke-width="3" opacity="0.4"/>'
  +' <line x1="'+(w*0.12)+'" y1="'+(h*0.72)+'" x2="'+(w*0.1)+'" y2="'+(h*0.52)+'" stroke="#6a9030" stroke-width="2"/>'
  +' <ellipse cx="'+(w*0.1)+'" cy="'+(h*0.5)+'" rx="'+(w*0.025)+'" ry="'+(h*0.045)+'" fill="#c8d860" opacity="0.9"/>'
  +' <line x1="'+(w*0.19)+'" y1="'+(h*0.72)+'" x2="'+(w*0.17)+'" y2="'+(h*0.55)+'" stroke="#6a9030" stroke-width="2"/>'
  +' <ellipse cx="'+(w*0.17)+'" cy="'+(h*0.53)+'" rx="'+(w*0.022)+'" ry="'+(h*0.04)+'" fill="#c8d860" opacity="0.9"/>'
  +' <line x1="'+(w*0.82)+'" y1="'+(h*0.72)+'" x2="'+(w*0.84)+'" y2="'+(h*0.55)+'" stroke="#6a9030" stroke-width="2"/>'
  +' <ellipse cx="'+(w*0.84)+'" cy="'+(h*0.53)+'" rx="'+(w*0.022)+'" ry="'+(h*0.04)+'" fill="#c8d860" opacity="0.9"/>'
  +' <line x1="'+(w*0.88)+'" y1="'+(h*0.72)+'" x2="'+(w*0.9)+'" y2="'+(h*0.56)+'" stroke="#6a9030" stroke-width="2"/>'
  +' <ellipse cx="'+(w*0.9)+'" cy="'+(h*0.54)+'" rx="'+(w*0.022)+'" ry="'+(h*0.04)+'" fill="#c8d860" opacity="0.8"/>'
  +' <rect x="'+(w*0.2)+'" y="'+(h*0.45)+'" width="'+(w*0.6)+'" height="'+(h*0.32)+'" rx="8" fill="#2a1008" stroke="#c9a84c" stroke-width="1" opacity="0.95"/>'
  +' <rect x="'+(w*0.24)+'" y="'+(h*0.47)+'" width="'+(w*0.52)+'" height="'+(h*0.06)+'" rx="4" fill="#601030" opacity="0.5"/>'
  +' <circle cx="'+(w*0.24)+'" cy="'+(h*0.6)+'" r="'+(w*0.04)+'" fill="none" stroke="#c9a84c" stroke-width="1.2"/>'
  +' <line x1="'+(w*0.24)+'" y1="'+(h*0.64)+'" x2="'+(w*0.24)+'" y2="'+(h*0.68)+'" stroke="#c9a84c" stroke-width="1.2"/>'
  +' <line x1="'+(w*0.21)+'" y1="'+(h*0.66)+'" x2="'+(w*0.27)+'" y2="'+(h*0.66)+'" stroke="#c9a84c" stroke-width="1.2"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.56)+'" rx="'+(w*0.2)+'" ry="'+(h*0.16)+'" fill="#d06080" opacity="0.9"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.3)+'" rx="'+(w*0.1)+'" ry="'+(w*0.11)+'" fill="#f0c890"/>'
  +' <rect x="'+(w*0.37)+'" y="'+(h*0.19)+'" width="'+(w*0.26)+'" height="'+(h*0.04)+'" rx="2" fill="#c9a84c"/>'
  +' <line x1="'+(w*0.41)+'" y1="'+(h*0.19)+'" x2="'+(w*0.41)+'" y2="'+(h*0.14)+'" stroke="#c9a84c" stroke-width="2"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.19)+'" x2="'+(w*0.5)+'" y2="'+(h*0.12)+'" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.59)+'" y1="'+(h*0.19)+'" x2="'+(w*0.59)+'" y2="'+(h*0.14)+'" stroke="#c9a84c" stroke-width="2"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.115)+'" r="'+(w*0.025)+'" fill="#ff8040"/>'
  +' <line x1="'+(w*0.68)+'" y1="'+(h*0.26)+'" x2="'+(w*0.72)+'" y2="'+(h*0.52)+'" stroke="#8a6820" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.68)+'" cy="'+(h*0.25)+'" r="'+(w*0.025)+'" fill="#c9a84c"/>'
  +' <circle cx="'+(w*0.42)+'" cy="'+(h*0.54)+'" r="1.5" fill="#ffe040" opacity="0.6"/>'
  +' <circle cx="'+(w*0.55)+'" cy="'+(h*0.5)+'" r="1.5" fill="#ffe040" opacity="0.6"/>'
  +' <circle cx="'+(w*0.48)+'" cy="'+(h*0.62)+'" r="1.5" fill="#ffe040" opacity="0.5"/>';
  return svgBase(w,h,c,'III','THE EMPRESS');
}

function drawEmperor(w,h) {
  var c = '' +' <path d="M0,'+(h*0.62)+' L'+(w*0.2)+','+(h*0.38)+' L'+(w*0.38)+','+(h*0.55)+' L'+(w*0.55)+','+(h*0.32)+' L'+(w*0.72)+','+(h*0.5)+' L'+(w*0.88)+','+(h*0.36)+' L'+w+','+(h*0.52)+' L'+w+','+h+' L0,'+h+'Z" fill="#3a1510" opacity="0.88"/>'
  +' <polygon points="'+(w*0.55)+','+(h*0.32)+' '+(w*0.51)+','+(h*0.42)+' '+(w*0.59)+','+(h*0.42)+'" fill="#d0c0b0" opacity="0.35"/>'
  +' <rect x="'+(w*0.18)+'" y="'+(h*0.28)+'" width="'+(w*0.64)+'" height="'+(h*0.48)+'" rx="6" fill="#1a0808" stroke="#c9a84c" stroke-width="1.2" opacity="0.95"/>'
  +' <circle cx="'+(w*0.25)+'" cy="'+(h*0.27)+'" r="'+(w*0.055)+'" fill="#c9a84c" opacity="0.65"/>'
  +' <path d="M'+(w*0.22)+','+(h*0.27)+' Q'+(w*0.2)+','+(h*0.24)+' '+(w*0.23)+','+(h*0.22)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <path d="M'+(w*0.28)+','+(h*0.27)+' Q'+(w*0.3)+','+(h*0.24)+' '+(w*0.27)+','+(h*0.22)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <circle cx="'+(w*0.75)+'" cy="'+(h*0.27)+'" r="'+(w*0.055)+'" fill="#c9a84c" opacity="0.65"/>'
  +' <path d="M'+(w*0.72)+','+(h*0.27)+' Q'+(w*0.7)+','+(h*0.24)+' '+(w*0.73)+','+(h*0.22)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <path d="M'+(w*0.78)+','+(h*0.27)+' Q'+(w*0.8)+','+(h*0.24)+' '+(w*0.77)+','+(h*0.22)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.6)+'" rx="'+(w*0.22)+'" ry="'+(h*0.19)+'" fill="#8b1a2a" opacity="0.95"/>'
  +' <rect x="'+(w*0.38)+'" y="'+(h*0.37)+'" width="'+(w*0.24)+'" height="'+(h*0.22)+'" rx="4" fill="#909090" opacity="0.9"/>'
  +' <rect x="'+(w*0.36)+'" y="'+(h*0.56)+'" width="'+(w*0.28)+'" height="'+(h*0.03)+'" rx="2" fill="#c9a84c" opacity="0.8"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.31)+'" rx="'+(w*0.09)+'" ry="'+(w*0.1)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.42)+','+(h*0.36)+' Q'+(w*0.5)+','+(h*0.44)+' '+(w*0.58)+','+(h*0.36)+'" fill="#a08060" opacity="0.9"/>'
  +' <path d="M'+(w*0.44)+','+(h*0.38)+' Q'+(w*0.5)+','+(h*0.46)+' '+(w*0.56)+','+(h*0.38)+' Q'+(w*0.5)+','+(h*0.48)+' '+(w*0.44)+','+(h*0.38)+'" fill="#a08060" opacity="0.4"/>'
  +' <circle cx="'+(w*0.46)+'" cy="'+(h*0.3)+'" r="'+(w*0.016)+'" fill="#3a2010"/>'
  +' <circle cx="'+(w*0.54)+'" cy="'+(h*0.3)+'" r="'+(w*0.016)+'" fill="#3a2010"/>'
  +' <rect x="'+(w*0.38)+'" y="'+(h*0.21)+'" width="'+(w*0.24)+'" height="'+(h*0.04)+'" rx="2" fill="#c9a84c"/>'
  +' <line x1="'+(w*0.42)+'" y1="'+(h*0.21)+'" x2="'+(w*0.4)+'" y2="'+(h*0.15)+'" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.21)+'" x2="'+(w*0.5)+'" y2="'+(h*0.13)+'" stroke="#c9a84c" stroke-width="3"/>'
  +' <line x1="'+(w*0.58)+'" y1="'+(h*0.21)+'" x2="'+(w*0.6)+'" y2="'+(h*0.15)+'" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.12)+'" r="'+(w*0.025)+'" fill="#ff2020"/>'
  +' <circle cx="'+(w*0.33)+'" cy="'+(h*0.48)+'" r="'+(w*0.045)+'" fill="#c9a84c" opacity="0.75"/>'
  +' <circle cx="'+(w*0.33)+'" cy="'+(h*0.48)+'" r="'+(w*0.025)+'" fill="#e0d080"/>'
  +' <line x1="'+(w*0.28)+'" y1="'+(h*0.44)+'" x2="'+(w*0.35)+'" y2="'+(h*0.5)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.67)+'" y1="'+(h*0.32)+'" x2="'+(w*0.7)+'" y2="'+(h*0.58)+'" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.67)+'" cy="'+(h*0.3)+'" r="'+(w*0.03)+'" fill="none" stroke="#c9a84c" stroke-width="2"/>'
  +' <line x1="'+(w*0.64)+'" y1="'+(h*0.33)+'" x2="'+(w*0.7)+'" y2="'+(h*0.33)+'" stroke="#c9a84c" stroke-width="1.8"/>';
  return svgBase(w,h,c,'IV','THE EMPEROR');
}

function drawHierophant(w,h) {
  var c = '' +' <rect x="0" y="'+(h*0.75)+'" width="'+w+'" height="'+(h*0.25)+'" fill="#1a1028" opacity="0.9"/>'
  +' <rect x="'+(w*0.06)+'" y="'+(h*0.18)+'" width="'+(w*0.14)+'" height="'+(h*0.63)+'" rx="3" fill="#180840" stroke="#c9a84c" stroke-width="1"/>'
  +' <rect x="'+(w*0.04)+'" y="'+(h*0.16)+'" width="'+(w*0.18)+'" height="'+(h*0.03)+'" rx="2" fill="#c9a84c" opacity="0.7"/>'
  +' <rect x="'+(w*0.8)+'" y="'+(h*0.18)+'" width="'+(w*0.14)+'" height="'+(h*0.63)+'" rx="3" fill="#0d0820" stroke="#c9a84c" stroke-width="1"/>'
  +' <rect x="'+(w*0.78)+'" y="'+(h*0.16)+'" width="'+(w*0.18)+'" height="'+(h*0.03)+'" rx="2" fill="#c9a84c" opacity="0.7"/>'
  +' <circle cx="'+(w*0.33)+'" cy="'+(h*0.72)+'" r="'+(w*0.05)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.28)+','+(h*0.77)+' Q'+(w*0.33)+','+(h*0.75)+' '+(w*0.38)+','+(h*0.77)+' L'+(w*0.38)+','+(h*0.87)+' L'+(w*0.28)+','+(h*0.87)+'Z" fill="#806040" opacity="0.9"/>'
  +' <circle cx="'+(w*0.67)+'" cy="'+(h*0.72)+'" r="'+(w*0.05)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.62)+','+(h*0.77)+' Q'+(w*0.67)+','+(h*0.75)+' '+(w*0.72)+','+(h*0.77)+' L'+(w*0.72)+','+(h*0.87)+' L'+(w*0.62)+','+(h*0.87)+'Z" fill="#8060a0" opacity="0.9"/>'
  +' <circle cx="'+(w*0.37)+'" cy="'+(h*0.76)+'" r="'+(w*0.03)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.37)+'" y1="'+(h*0.79)+'" x2="'+(w*0.37)+'" y2="'+(h*0.85)+'" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.35)+'" y1="'+(h*0.82)+'" x2="'+(w*0.39)+'" y2="'+(h*0.82)+'" stroke="#c9a84c" stroke-width="1.2"/>'
  +' <circle cx="'+(w*0.63)+'" cy="'+(h*0.76)+'" r="'+(w*0.03)+'" fill="none" stroke="#d0d0d0" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.63)+'" y1="'+(h*0.79)+'" x2="'+(w*0.63)+'" y2="'+(h*0.85)+'" stroke="#d0d0d0" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.61)+'" y1="'+(h*0.82)+'" x2="'+(w*0.65)+'" y2="'+(h*0.82)+'" stroke="#d0d0d0" stroke-width="1.2"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.32)+'" rx="'+(w*0.1)+'" ry="'+(w*0.11)+'" fill="#f0c890"/>'
  +' <rect x="'+(w*0.36)+'" y="'+(h*0.42)+'" width="'+(w*0.28)+'" height="'+(h*0.3)+'" rx="4" fill="#600000" opacity="0.95"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.42)+'" x2="'+(w*0.5)+'" y2="'+(h*0.72)+'" stroke="#c9a84c" stroke-width="0.8" opacity="0.35"/>'
  +' <rect x="'+(w*0.36)+'" y="'+(h*0.19)+'" width="'+(w*0.28)+'" height="'+(h*0.05)+'" rx="2" fill="#c9a84c"/>'
  +' <rect x="'+(w*0.38)+'" y="'+(h*0.14)+'" width="'+(w*0.24)+'" height="'+(h*0.05)+'" rx="2" fill="#c9a84c"/>'
  +' <rect x="'+(w*0.41)+'" y="'+(h*0.1)+'" width="'+(w*0.18)+'" height="'+(h*0.04)+'" rx="2" fill="#c9a84c"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.09)+'" r="'+(w*0.018)+'" fill="#ff4040"/>'
  +' <line x1="'+(w*0.67)+'" y1="'+(h*0.18)+'" x2="'+(w*0.7)+'" y2="'+(h*0.68)+'" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.63)+'" y1="'+(h*0.28)+'" x2="'+(w*0.74)+'" y2="'+(h*0.28)+'" stroke="#c9a84c" stroke-width="1.8"/>'
  +' <line x1="'+(w*0.63)+'" y1="'+(h*0.34)+'" x2="'+(w*0.74)+'" y2="'+(h*0.34)+'" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.65)+'" y1="'+(h*0.4)+'" x2="'+(w*0.74)+'" y2="'+(h*0.4)+'" stroke="#c9a84c" stroke-width="1.2"/>'
  +' <line x1="'+(w*0.38)+'" y1="'+(h*0.48)+'" x2="'+(w*0.26)+'" y2="'+(h*0.42)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.25)+'" cy="'+(h*0.41)+'" r="'+(w*0.03)+'" fill="#f0c890"/>';
  return svgBase(w,h,c,'V','THE HIEROPHANT');
}

function drawLovers(w,h) {
  var c = '' +' <path d="M0,'+(h*0.7)+' L'+w+','+(h*0.7)+' L'+w+','+h+' L0,'+h+'Z" fill="#0a1f08" opacity="0.8"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.13)+'" r="'+(w*0.16)+'" fill="#ffcc40" opacity="0.15"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.13)+'" r="'+(w*0.09)+'" fill="#ffcc40" opacity="0.22"/>'
  +' <path d="M'+(w*0.25)+','+(h*0.22)+' Q'+(w*0.1)+','+(h*0.1)+' '+(w*0.05)+','+(h*0.25)+' Q'+(w*0.14)+','+(h*0.3)+' '+(w*0.35)+','+(h*0.27)+'Z" fill="#e8e8ff" opacity="0.65"/>'
  +' <path d="M'+(w*0.75)+','+(h*0.22)+' Q'+(w*0.9)+','+(h*0.1)+' '+(w*0.95)+','+(h*0.25)+' Q'+(w*0.86)+','+(h*0.3)+' '+(w*0.65)+','+(h*0.27)+'Z" fill="#e8e8ff" opacity="0.65"/>'
  +' <line x1="'+(w*0.25)+'" y1="'+(h*0.22)+'" x2="'+(w*0.1)+'" y2="'+(h*0.18)+'" stroke="#c0c0e0" stroke-width="0.8" opacity="0.5"/>'
  +' <line x1="'+(w*0.75)+'" y1="'+(h*0.22)+'" x2="'+(w*0.9)+'" y2="'+(h*0.18)+'" stroke="#c0c0e0" stroke-width="0.8" opacity="0.5"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.2)+'" r="'+(w*0.07)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.43)+','+(h*0.26)+' Q'+(w*0.5)+','+(h*0.36)+' '+(w*0.57)+','+(h*0.26)+'Z" fill="#ff8040" opacity="0.7"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.27)+'" x2="'+(w*0.32)+'" y2="'+(h*0.55)+'" stroke="#ffcc40" stroke-width="1" opacity="0.4"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.27)+'" x2="'+(w*0.68)+'" y2="'+(h*0.55)+'" stroke="#ffcc40" stroke-width="1" opacity="0.4"/>'
  +' <line x1="'+(w*0.72)+'" y1="'+(h*0.7)+'" x2="'+(w*0.72)+'" y2="'+(h*0.42)+'" stroke="#3a1f08" stroke-width="4"/>'
  +' <circle cx="'+(w*0.72)+'" cy="'+(h*0.37)+'" r="'+(w*0.1)+'" fill="#a83820" opacity="0.75"/>'
  +' <circle cx="'+(w*0.68)+'" cy="'+(h*0.42)+'" r="'+(w*0.025)+'" fill="#cc2020"/>'
  +' <circle cx="'+(w*0.76)+'" cy="'+(h*0.39)+'" r="'+(w*0.02)+'" fill="#cc2020"/>'
  +' <path d="M'+(w*0.74)+','+(h*0.5)+' Q'+(w*0.78)+','+(h*0.45)+' '+(w*0.74)+','+(h*0.42)+' Q'+(w*0.76)+','+(h*0.38)+' '+(w*0.74)+','+(h*0.35)+'" fill="none" stroke="#408020" stroke-width="2"/>'
  +' <line x1="'+(w*0.28)+'" y1="'+(h*0.7)+'" x2="'+(w*0.28)+'" y2="'+(h*0.44)+'" stroke="#1f3a08" stroke-width="4"/>'
  +' <circle cx="'+(w*0.28)+'" cy="'+(h*0.39)+'" r="'+(w*0.1)+'" fill="#1a5020" opacity="0.8"/>'
  +' <ellipse cx="'+(w*0.24)+'" cy="'+(h*0.38)+'" rx="'+(w*0.02)+'" ry="'+(w*0.04)+'" fill="#ff6020" opacity="0.6"/>'
  +' <ellipse cx="'+(w*0.32)+'" cy="'+(h*0.37)+'" rx="'+(w*0.02)+'" ry="'+(w*0.04)+'" fill="#ff6020" opacity="0.6"/>'
  +' <circle cx="'+(w*0.32)+'" cy="'+(h*0.57)+'" r="'+(w*0.07)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.25)+','+(h*0.63)+' Q'+(w*0.32)+','+(h*0.65)+' '+(w*0.39)+','+(h*0.63)+' L'+(w*0.39)+','+(h*0.78)+' L'+(w*0.25)+','+(h*0.78)+'Z" fill="#8060a0" opacity="0.85"/>'
  +' <circle cx="'+(w*0.68)+'" cy="'+(h*0.57)+'" r="'+(w*0.07)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.61)+','+(h*0.63)+' Q'+(w*0.68)+','+(h*0.65)+' '+(w*0.75)+','+(h*0.63)+' L'+(w*0.75)+','+(h*0.78)+' L'+(w*0.61)+','+(h*0.78)+'Z" fill="#a06030" opacity="0.85"/>';
  return svgBase(w,h,c,'VI','THE LOVERS');
}

function drawChariot(w,h) {
  var c = '' +' <rect x="'+(w*0.04)+'" y="'+(h*0.42)+'" width="'+(w*0.1)+'" height="'+(h*0.22)+'" fill="#201040" opacity="0.75"/>'
  +' <rect x="'+(w*0.16)+'" y="'+(h*0.36)+'" width="'+(w*0.12)+'" height="'+(h*0.28)+'" fill="#201040" opacity="0.75"/>'
  +' <rect x="'+(w*0.72)+'" y="'+(h*0.38)+'" width="'+(w*0.12)+'" height="'+(h*0.26)+'" fill="#201040" opacity="0.75"/>'
  +' <rect x="'+(w*0.07)+'" y="'+(h*0.46)+'" width="'+(w*0.04)+'" height="'+(h*0.05)+'" rx="1" fill="#ffaa30" opacity="0.5"/>'
  +' <rect x="'+(w*0.19)+'" y="'+(h*0.4)+'" width="'+(w*0.04)+'" height="'+(h*0.06)+'" rx="1" fill="#ffaa30" opacity="0.4"/>'
  +' <path d="M0,'+(h*0.82)+' Q'+(w*0.5)+','+(h*0.78)+' '+w+','+(h*0.82)+' L'+w+','+h+' L0,'+h+'Z" fill="#1a3060" opacity="0.5"/>'
  +' <rect x="'+(w*0.18)+'" y="'+(h*0.38)+'" width="'+(w*0.64)+'" height="'+(h*0.08)+'" rx="3" fill="#080420" stroke="#c9a84c" stroke-width="1"/>'
  +' <circle cx="'+(w*0.3)+'" cy="'+(h*0.42)+'" r="1.5" fill="#fff" opacity="0.7"/>'
  +' <circle cx="'+(w*0.42)+'" cy="'+(h*0.41)+'" r="1.2" fill="#c9a84c" opacity="0.8"/>'
  +' <circle cx="'+(w*0.56)+'" cy="'+(h*0.42)+'" r="1.5" fill="#fff" opacity="0.6"/>'
  +' <circle cx="'+(w*0.68)+'" cy="'+(h*0.41)+'" r="1.2" fill="#fff" opacity="0.7"/>'
  +' <rect x="'+(w*0.18)+'" y="'+(h*0.45)+'" width="'+(w*0.64)+'" height="'+(h*0.24)+'" rx="5" fill="#1a0840" stroke="#c9a84c" stroke-width="1.5" opacity="0.95"/>'
  +' <path d="M'+(w*0.32)+','+(h*0.46)+' Q'+(w*0.5)+','+(h*0.5)+' '+(w*0.68)+','+(h*0.46)+'" fill="none" stroke="#c9a84c" stroke-width="0.8" opacity="0.6"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.57)+'" r="'+(w*0.04)+'" fill="#ffcc00" opacity="0.6"/>'
  +' <path d="M'+(w*0.34)+','+(h*0.56)+' Q'+(w*0.42)+','+(h*0.53)+' '+(w*0.46)+','+(h*0.57)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <path d="M'+(w*0.66)+','+(h*0.56)+' Q'+(w*0.58)+','+(h*0.53)+' '+(w*0.54)+','+(h*0.57)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <ellipse cx="'+(w*0.28)+'" cy="'+(h*0.75)+'" rx="'+(w*0.12)+'" ry="'+(w*0.07)+'" fill="#e0d8c0"/>'
  +' <circle cx="'+(w*0.38)+'" cy="'+(h*0.71)+'" r="'+(w*0.05)+'" fill="#e0d8c0"/>'
  +' <circle cx="'+(w*0.385)+'" cy="'+(h*0.7)+'" r="'+(w*0.018)+'" fill="#2a2010"/>'
  +' <ellipse cx="'+(w*0.72)+'" cy="'+(h*0.75)+'" rx="'+(w*0.12)+'" ry="'+(w*0.07)+'" fill="#1a1010"/>'
  +' <circle cx="'+(w*0.62)+'" cy="'+(h*0.71)+'" r="'+(w*0.05)+'" fill="#1a1010"/>'
  +' <circle cx="'+(w*0.62)+'" cy="'+(h*0.7)+'" r="'+(w*0.018)+'" fill="#c9a84c"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.35)+'" rx="'+(w*0.09)+'" ry="'+(w*0.1)+'" fill="#f0c890"/>'
  +' <rect x="'+(w*0.4)+'" y="'+(h*0.44)+'" width="'+(w*0.2)+'" height="'+(h*0.06)+'" rx="3" fill="#a0a0b0"/>'
  +' <rect x="'+(w*0.42)+'" y="'+(h*0.5)+'" width="'+(w*0.16)+'" height="'+(h*0.08)+'" rx="3" fill="#d0c090" opacity="0.9"/>'
  +' <path d="M'+(w*0.4)+','+(h*0.43)+' Q'+(w*0.37)+','+(h*0.39)+' '+(w*0.41)+','+(h*0.41)+'" fill="none" stroke="#c9a84c" stroke-width="2"/>'
  +' <path d="M'+(w*0.6)+','+(h*0.43)+' Q'+(w*0.63)+','+(h*0.39)+' '+(w*0.59)+','+(h*0.41)+'" fill="none" stroke="#c9a84c" stroke-width="2"/>'
  +' <rect x="'+(w*0.43)+'" y="'+(h*0.24)+'" width="'+(w*0.14)+'" height="'+(h*0.03)+'" rx="2" fill="#c9a84c"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.18)+'" x2="'+(w*0.52)+'" y2="'+(h*0.44)+'" stroke="#8a6820" stroke-width="2.5"/>';
  return svgBase(w,h,c,'VII','THE CHARIOT');
}

function drawStrength(w,h) {
  var c = '' +' <path d="M0,'+(h*0.62)+' Q'+(w*0.25)+','+(h*0.5)+' '+(w*0.5)+','+(h*0.58)+' Q'+(w*0.75)+','+(h*0.66)+' '+w+','+(h*0.55)+' L'+w+','+h+' L0,'+h+'Z" fill="#1a3010" opacity="0.8"/>'
  +' <path d="M'+(w*0.6)+','+(h*0.62)+' L'+(w*0.72)+','+(h*0.44)+' L'+(w*0.84)+','+(h*0.56)+' L'+(w*0.96)+','+(h*0.42)+' L'+w+','+(h*0.62)+' L'+w+','+h+' L'+(w*0.6)+','+h+'Z" fill="#2a1830" opacity="0.5"/>'
  +' <circle cx="'+(w*0.12)+'" cy="'+(h*0.68)+'" r="'+(w*0.018)+'" fill="#ffcc40" opacity="0.7"/>'
  +' <circle cx="'+(w*0.08)+'" cy="'+(h*0.72)+'" r="'+(w*0.015)+'" fill="#ff80a0" opacity="0.7"/>'
  +' <ellipse cx="'+(w*0.48)+'" cy="'+(h*0.7)+'" rx="'+(w*0.26)+'" ry="'+(w*0.13)+'" fill="#c8a030"/>'
  +' <circle cx="'+(w*0.64)+'" cy="'+(h*0.63)+'" r="'+(w*0.11)+'" fill="#c8a030"/>'
  +' <circle cx="'+(w*0.64)+'" cy="'+(h*0.63)+'" r="'+(w*0.155)+'" fill="none" stroke="#7a3800" stroke-width="'+(w*0.045)+'" opacity="0.9"/>'
  +' <circle cx="'+(w*0.64)+'" cy="'+(h*0.63)+'" r="'+(w*0.13)+'" fill="none" stroke="#a05000" stroke-width="'+(w*0.02)+'" opacity="0.5"/>'
  +' <circle cx="'+(w*0.68)+'" cy="'+(h*0.61)+'" r="'+(w*0.022)+'" fill="#fff8a0"/>'
  +' <circle cx="'+(w*0.68)+'" cy="'+(h*0.61)+'" r="'+(w*0.012)+'" fill="#1a0a00"/>'
  +' <ellipse cx="'+(w*0.28)+'" cy="'+(h*0.82)+'" rx="'+(w*0.06)+'" ry="'+(w*0.04)+'" fill="#b89020"/>'
  +' <ellipse cx="'+(w*0.42)+'" cy="'+(h*0.83)+'" rx="'+(w*0.055)+'" ry="'+(w*0.035)+'" fill="#b89020"/>'
  +' <path d="M'+(w*0.22)+','+(h*0.72)+' Q'+(w*0.1)+','+(h*0.6)+' '+(w*0.18)+','+(h*0.5)+'" fill="none" stroke="#c8a030" stroke-width="4" stroke-linecap="round"/>'
  +' <circle cx="'+(w*0.18)+'" cy="'+(h*0.49)+'" r="'+(w*0.025)+'" fill="#8a5000"/>'
  +' <ellipse cx="'+(w*0.38)+'" cy="'+(h*0.45)+'" rx="'+(w*0.09)+'" ry="'+(w*0.105)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.28)+','+(h*0.53)+' Q'+(w*0.38)+','+(h*0.58)+' '+(w*0.48)+','+(h*0.53)+' L'+(w*0.5)+','+(h*0.75)+' L'+(w*0.26)+','+(h*0.75)+'Z" fill="#ffffff" opacity="0.88"/>'
  +' <circle cx="'+(w*0.32)+'" cy="'+(h*0.41)+'" r="'+(w*0.02)+'" fill="#ff80a0"/>'
  +' <circle cx="'+(w*0.37)+'" cy="'+(h*0.38)+'" r="'+(w*0.02)+'" fill="#ff60c0"/>'
  +' <circle cx="'+(w*0.43)+'" cy="'+(h*0.4)+'" r="'+(w*0.02)+'" fill="#ff80a0"/>'
  +' <path d="M'+(w*0.26)+','+(h*0.31)+' Q'+(w*0.3)+','+(h*0.27)+' '+(w*0.38)+','+(h*0.31)+' Q'+(w*0.46)+','+(h*0.35)+' '+(w*0.5)+','+(h*0.31)+' Q'+(w*0.46)+','+(h*0.27)+' '+(w*0.38)+','+(h*0.31)+' Q'+(w*0.3)+','+(h*0.35)+' '+(w*0.26)+','+(h*0.31)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <path d="M'+(w*0.48)+','+(h*0.55)+' Q'+(w*0.56)+','+(h*0.58)+' '+(w*0.6)+','+(h*0.63)+'" fill="none" stroke="#f0c890" stroke-width="3" stroke-linecap="round"/>'
  +' <path d="M'+(w*0.48)+','+(h*0.57)+' Q'+(w*0.54)+','+(h*0.61)+' '+(w*0.57)+','+(h*0.67)+'" fill="none" stroke="#f0c890" stroke-width="2" stroke-linecap="round"/>';
  return svgBase(w,h,c,'VIII','STRENGTH');
}

function drawHermit(w,h) {
  var c = '' +' <path d="M0,'+(h*0.5)+' Q'+(w*0.35)+','+(h*0.35)+' '+(w*0.55)+','+(h*0.42)+' Q'+(w*0.75)+','+(h*0.5)+' '+w+','+(h*0.38)+' L'+w+','+h+' L0,'+h+'Z" fill="#181828" opacity="0.9"/>'
  +' <path d="M'+(w*0.5)+','+(h*0.12)+' L'+(w*0.36)+','+(h*0.38)+' L'+(w*0.64)+','+(h*0.38)+'Z" fill="#d8d8e8" opacity="0.22"/>'
  +' <circle cx="'+(w*0.15)+'" cy="'+(h*0.1)+'" r="1.5" fill="#fff" opacity="0.8"/>'
  +' <circle cx="'+(w*0.82)+'" cy="'+(h*0.08)+'" r="1.2" fill="#c9a84c" opacity="0.9"/>'
  +' <circle cx="'+(w*0.08)+'" cy="'+(h*0.25)+'" r="1" fill="#fff" opacity="0.5"/>'
  +' <circle cx="'+(w*0.92)+'" cy="'+(h*0.22)+'" r="0.9" fill="#fff" opacity="0.6"/>'
  +' <circle cx="'+(w*0.7)+'" cy="'+(h*0.16)+'" r="1" fill="#c8d8ff" opacity="0.6"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.36)+'" rx="'+(w*0.09)+'" ry="'+(w*0.1)+'" fill="#e0c898"/>'
  +' <path d="M'+(w*0.38)+','+(h*0.44)+' Q'+(w*0.36)+','+(h*0.78)+' '+(w*0.4)+','+(h*0.88)+' Q'+(w*0.5)+','+(h*0.92)+' '+(w*0.6)+','+(h*0.88)+' Q'+(w*0.64)+','+(h*0.78)+' '+(w*0.62)+','+(h*0.44)+'Z" fill="#35354a"/>'
  +' <path d="M'+(w*0.38)+','+(h*0.44)+' Q'+(w*0.36)+','+(h*0.34)+' '+(w*0.5)+','+(h*0.28)+' Q'+(w*0.64)+','+(h*0.34)+' '+(w*0.62)+','+(h*0.44)+'Z" fill="#2a2a3a"/>'
  +' <line x1="'+(w*0.35)+'" y1="'+(h*0.85)+'" x2="'+(w*0.33)+'" y2="'+(h*0.36)+'" stroke="#8a7060" stroke-width="3" stroke-linecap="round"/>'
  +' <rect x="'+(w*0.62)+'" y="'+(h*0.3)+'" width="'+(w*0.11)+'" height="'+(h*0.14)+'" rx="3" fill="#0a0800" stroke="#c9a84c" stroke-width="1.2"/>'
  +' <circle cx="'+(w*0.675)+'" cy="'+(h*0.37)+'" r="'+(w*0.038)+'" fill="#ffcc00" opacity="0.85"/>'
  +' <circle cx="'+(w*0.675)+'" cy="'+(h*0.37)+'" r="'+(w*0.022)+'" fill="#fff8e0" opacity="0.95"/>'
  +' <circle cx="'+(w*0.675)+'" cy="'+(h*0.37)+'" r="'+(w*0.1)+'" fill="#ffcc00" opacity="0.05"/>'
  +' <line x1="'+(w*0.62)+'" y1="'+(h*0.44)+'" x2="'+(w*0.68)+'" y2="'+(h*0.42)+'" stroke="#e0c898" stroke-width="2.5"/>'
  +' <path d="M'+(w*0.44)+','+(h*0.42)+' Q'+(w*0.5)+','+(h*0.47)+' '+(w*0.56)+','+(h*0.42)+'" fill="#a0a090" opacity="0.7"/>';
  return svgBase(w,h,c,'IX','THE HERMIT');
}

function drawWheel(w,h) {
  var c = '' +' <ellipse cx="'+(w*0.1)+'" cy="'+(h*0.5)+'" rx="'+(w*0.1)+'" ry="'+(h*0.04)+'" fill="#d0d8e8" opacity="0.25"/>'
  +' <ellipse cx="'+(w*0.9)+'" cy="'+(h*0.48)+'" rx="'+(w*0.1)+'" ry="'+(h*0.04)+'" fill="#d0d8e8" opacity="0.25"/>'
  +' <text x="'+(w*0.08)+'" y="'+(h*0.5)+'" font-family="serif" font-size="'+(w*0.07)+'" fill="#c9a84c" text-anchor="middle" opacity="0.7">â™’</text>'
  +' <text x="'+(w*0.92)+'" y="'+(h*0.5)+'" font-family="serif" font-size="'+(w*0.07)+'" fill="#c9a84c" text-anchor="middle" opacity="0.7">â™Œ</text>'
  +' <text x="'+(w*0.5)+'" y="'+(h*0.91)+'" font-family="serif" font-size="'+(w*0.07)+'" fill="#c9a84c" text-anchor="middle" opacity="0.7">â™‰</text>'
  +' <text x="'+(w*0.5)+'" y="'+(h*0.1)+'" font-family="serif" font-size="'+(w*0.07)+'" fill="#c9a84c" text-anchor="middle" opacity="0.7">â™…</text>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.48)+'" r="'+(w*0.39)+'" fill="none" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.48)+'" r="'+(w*0.28)+'" fill="none" stroke="#8a6820" stroke-width="1.5"/>'
  +' <text x="'+(w*0.5)+'" y="'+(h*0.22)+'" font-family="serif" font-size="'+(w*0.055)+'" fill="#8a6820" text-anchor="middle" opacity="0.8">â˜¿</text>'
  +' <text x="'+(w*0.78)+'" y="'+(h*0.5)+'" font-family="serif" font-size="'+(w*0.055)+'" fill="#8a6820" text-anchor="middle" opacity="0.8">â™ƒ</text>'
  +' <text x="'+(w*0.5)+'" y="'+(h*0.76)+'" font-family="serif" font-size="'+(w*0.055)+'" fill="#8a6820" text-anchor="middle" opacity="0.8">â™„</text>'
  +' <text x="'+(w*0.22)+'" y="'+(h*0.5)+'" font-family="serif" font-size="'+(w*0.055)+'" fill="#8a6820" text-anchor="middle" opacity="0.8">â™€</text>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.48)+'" r="'+(w*0.11)+'" fill="#1a0820" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.09)+'" x2="'+(w*0.5)+'" y2="'+(h*0.87)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <line x1="'+(w*0.11)+'" y1="'+(h*0.48)+'" x2="'+(w*0.89)+'" y2="'+(h*0.48)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <line x1="'+(w*0.22)+'" y1="'+(h*0.21)+'" x2="'+(w*0.78)+'" y2="'+(h*0.75)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <line x1="'+(w*0.78)+'" y1="'+(h*0.21)+'" x2="'+(w*0.22)+'" y2="'+(h*0.75)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <text x="'+(w*0.5)+'" y="'+(h*0.36)+'" font-family="serif" font-size="'+(w*0.085)+'" fill="#c9a84c" text-anchor="middle" opacity="0.95" font-weight="bold">T</text>'
  +' <text x="'+(w*0.64)+'" y="'+(h*0.5)+'" font-family="serif" font-size="'+(w*0.085)+'" fill="#c9a84c" text-anchor="middle" opacity="0.95" font-weight="bold">A</text>'
  +' <text x="'+(w*0.5)+'" y="'+(h*0.62)+'" font-family="serif" font-size="'+(w*0.085)+'" fill="#c9a84c" text-anchor="middle" opacity="0.95" font-weight="bold">R</text>'
  +' <text x="'+(w*0.36)+'" y="'+(h*0.5)+'" font-family="serif" font-size="'+(w*0.085)+'" fill="#c9a84c" text-anchor="middle" opacity="0.95" font-weight="bold">O</text>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.12)+'" rx="'+(w*0.07)+'" ry="'+(w*0.05)+'" fill="#c8a030"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.1)+'" r="'+(w*0.04)+'" fill="#f0c890"/>'
  +' <circle cx="'+(w*0.51)+'" cy="'+(h*0.09)+'" r="'+(w*0.015)+'" fill="#3a2010"/>'
  +' <path d="M'+(w*0.14)+','+(h*0.36)+' Q'+(w*0.08)+','+(h*0.48)+' '+(w*0.12)+','+(h*0.6)+' Q'+(w*0.1)+','+(h*0.68)+' '+(w*0.14)+','+(h*0.72)+'" fill="none" stroke="#408030" stroke-width="3.5" stroke-linecap="round"/>'
  +' <circle cx="'+(w*0.14)+'" cy="'+(h*0.72)+'" r="'+(w*0.02)+'" fill="#ff4040"/>'
  +' <ellipse cx="'+(w*0.84)+'" cy="'+(h*0.6)+'" rx="'+(w*0.05)+'" ry="'+(w*0.065)+'" fill="#c8a030"/>'
  +' <circle cx="'+(w*0.84)+'" cy="'+(h*0.54)+'" r="'+(w*0.035)+'" fill="#c8a030"/>'
  +' <path d="M'+(w*0.81)+','+(h*0.52)+' L'+(w*0.79)+','+(h*0.47)+'" stroke="#c8a030" stroke-width="2" stroke-linecap="round"/>'
  +' <path d="M'+(w*0.87)+','+(h*0.52)+' L'+(w*0.89)+','+(h*0.47)+'" stroke="#c8a030" stroke-width="2" stroke-linecap="round"/>';
  return svgBase(w,h,c,'X','WHEEL OF FORTUNE');
}

function drawJustice(w,h) {
  var c = '' +' <rect x="'+(w*0.06)+'" y="'+(h*0.18)+'" width="'+(w*0.14)+'" height="'+(h*0.65)+'" rx="3" fill="#180840" stroke="#c9a84c" stroke-width="1"/>'
  +' <rect x="'+(w*0.04)+'" y="'+(h*0.17)+'" width="'+(w*0.18)+'" height="'+(h*0.025)+'" rx="2" fill="#c9a84c" opacity="0.6"/>'
  +' <rect x="'+(w*0.8)+'" y="'+(h*0.18)+'" width="'+(w*0.14)+'" height="'+(h*0.65)+'" rx="3" fill="#180840" stroke="#c9a84c" stroke-width="1"/>'
  +' <rect x="'+(w*0.78)+'" y="'+(h*0.17)+'" width="'+(w*0.18)+'" height="'+(h*0.025)+'" rx="2" fill="#c9a84c" opacity="0.6"/>'
  +' <rect x="'+(w*0.18)+'" y="'+(h*0.18)+'" width="'+(w*0.64)+'" height="'+(h*0.65)+'" rx="3" fill="#c9a84c" opacity="0.05"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.29)+'" rx="'+(w*0.1)+'" ry="'+(w*0.11)+'" fill="#f0c890"/>'
  +' <circle cx="'+(w*0.46)+'" cy="'+(h*0.28)+'" r="'+(w*0.016)+'" fill="#3a2010"/>'
  +' <circle cx="'+(w*0.54)+'" cy="'+(h*0.28)+'" r="'+(w*0.016)+'" fill="#3a2010"/>'
  +' <rect x="'+(w*0.36)+'" y="'+(h*0.38)+'" width="'+(w*0.28)+'" height="'+(h*0.42)+'" rx="4" fill="#8b1a2a" opacity="0.95"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.38)+'" x2="'+(w*0.5)+'" y2="'+(h*0.8)+'" stroke="#c9a84c" stroke-width="0.8" opacity="0.3"/>'
  +' <path d="M'+(w*0.36)+','+(h*0.55)+' Q'+(w*0.5)+','+(h*0.52)+' '+(w*0.64)+','+(h*0.55)+'" fill="none" stroke="#c9a84c" stroke-width="0.8" opacity="0.3"/>'
  +' <rect x="'+(w*0.38)+'" y="'+(h*0.18)+'" width="'+(w*0.24)+'" height="'+(h*0.04)+'" rx="2" fill="#c9a84c"/>'
  +' <line x1="'+(w*0.43)+'" y1="'+(h*0.18)+'" x2="'+(w*0.42)+'" y2="'+(h*0.13)+'" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.18)+'" x2="'+(w*0.5)+'" y2="'+(h*0.11)+'" stroke="#c9a84c" stroke-width="3"/>'
  +' <line x1="'+(w*0.57)+'" y1="'+(h*0.18)+'" x2="'+(w*0.58)+'" y2="'+(h*0.13)+'" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.36)+'" y1="'+(h*0.44)+'" x2="'+(w*0.22)+'" y2="'+(h*0.38)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.22)+'" y1="'+(h*0.38)+'" x2="'+(w*0.5)+'" y2="'+(h*0.34)+'" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.78)+'" y1="'+(h*0.38)+'" x2="'+(w*0.5)+'" y2="'+(h*0.34)+'" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.34)+'" x2="'+(w*0.5)+'" y2="'+(h*0.52)+'" stroke="#c9a84c" stroke-width="2"/>'
  +' <path d="M'+(w*0.16)+','+(h*0.46)+' Q'+(w*0.22)+','+(h*0.5)+' '+(w*0.28)+','+(h*0.46)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.22)+'" y1="'+(h*0.38)+'" x2="'+(w*0.16)+'" y2="'+(h*0.46)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <line x1="'+(w*0.22)+'" y1="'+(h*0.38)+'" x2="'+(w*0.28)+'" y2="'+(h*0.46)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <path d="M'+(w*0.72)+','+(h*0.52)+' Q'+(w*0.78)+','+(h*0.56)+' '+(w*0.84)+','+(h*0.52)+'" fill="none" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.78)+'" y1="'+(h*0.38)+'" x2="'+(w*0.72)+'" y2="'+(h*0.52)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <line x1="'+(w*0.78)+'" y1="'+(h*0.38)+'" x2="'+(w*0.84)+'" y2="'+(h*0.52)+'" stroke="#c9a84c" stroke-width="1"/>'
  +' <line x1="'+(w*0.64)+'" y1="'+(h*0.44)+'" x2="'+(w*0.72)+'" y2="'+(h*0.38)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.72)+'" y1="'+(h*0.16)+'" x2="'+(w*0.74)+'" y2="'+(h*0.66)+'" stroke="#c8c8d8" stroke-width="3"/>'
  +' <line x1="'+(w*0.67)+'" y1="'+(h*0.41)+'" x2="'+(w*0.79)+'" y2="'+(h*0.43)+'" stroke="#c9a84c" stroke-width="1.8"/>';
  return svgBase(w,h,c,'XI','JUSTICE');
}

function drawHangedMan(w,h) {
  var c = '' +' <line x1="'+(w*0.25)+'" y1="'+(h*0.12)+'" x2="'+(w*0.25)+'" y2="'+(h*0.88)+'" stroke="#4a2810" stroke-width="10"/>'
  +' <line x1="'+(w*0.75)+'" y1="'+(h*0.12)+'" x2="'+(w*0.75)+'" y2="'+(h*0.88)+'" stroke="#4a2810" stroke-width="10"/>'
  +' <line x1="'+(w*0.25)+'" y1="'+(h*0.25)+'" x2="'+(w*0.75)+'" y2="'+(h*0.25)+'" stroke="#4a2810" stroke-width="7"/>'
  +' <circle cx="'+(w*0.25)+'" cy="'+(h*0.14)+'" r="'+(w*0.055)+'" fill="#306020" opacity="0.75"/>'
  +' <circle cx="'+(w*0.2)+'" cy="'+(h*0.18)+'" r="'+(w*0.04)+'" fill="#406828" opacity="0.7"/>'
  +' <circle cx="'+(w*0.3)+'" cy="'+(h*0.17)+'" r="'+(w*0.04)+'" fill="#406828" opacity="0.7"/>'
  +' <circle cx="'+(w*0.75)+'" cy="'+(h*0.14)+'" r="'+(w*0.055)+'" fill="#306020" opacity="0.75"/>'
  +' <circle cx="'+(w*0.7)+'" cy="'+(h*0.18)+'" r="'+(w*0.04)+'" fill="#406828" opacity="0.7"/>'
  +' <circle cx="'+(w*0.8)+'" cy="'+(h*0.17)+'" r="'+(w*0.04)+'" fill="#406828" opacity="0.7"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.25)+'" x2="'+(w*0.5)+'" y2="'+(h*0.35)+'" stroke="#c8a870" stroke-width="1.5"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.72)+'" r="'+(w*0.1)+'" fill="#f0c890"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.72)+'" r="'+(w*0.14)+'" fill="none" stroke="#c9a84c" stroke-width="1.2" opacity="0.6" stroke-dasharray="3 3"/>'
  +' <rect x="'+(w*0.42)+'" y="'+(h*0.48)+'" width="'+(w*0.16)+'" height="'+(h*0.24)+'" rx="3" fill="#2040a0" opacity="0.85"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.48)+'" x2="'+(w*0.5)+'" y2="'+(h*0.35)+'" stroke="#a0a0b0" stroke-width="3"/>'
  +' <path d="M'+(w*0.42)+','+(h*0.48)+' Q'+(w*0.35)+','+(h*0.44)+' '+(w*0.38)+','+(h*0.38)+'" fill="none" stroke="#c84040" stroke-width="3"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.5)+'" x2="'+(w*0.38)+'" y2="'+(h*0.42)+'" stroke="#2040a0" stroke-width="3"/>'
  +' <line x1="'+(w*0.42)+'" y1="'+(h*0.58)+'" x2="'+(w*0.33)+'" y2="'+(h*0.65)+'" stroke="#f0c890" stroke-width="2"/>'
  +' <line x1="'+(w*0.58)+'" y1="'+(h*0.58)+'" x2="'+(w*0.67)+'" y2="'+(h*0.65)+'" stroke="#f0c890" stroke-width="2"/>'
  +' <path d="M'+(w*0.46)+','+(h*0.74)+' Q'+(w*0.5)+','+(h*0.77)+' '+(w*0.54)+','+(h*0.74)+'" fill="none" stroke="#8a6840" stroke-width="1"/>'
  +' <circle cx="'+(w*0.46)+'" cy="'+(h*0.7)+'" r="'+(w*0.014)+'" fill="#3a2010"/>'
  +' <circle cx="'+(w*0.54)+'" cy="'+(h*0.7)+'" r="'+(w*0.014)+'" fill="#3a2010"/>';
  return svgBase(w,h,c,'XII','THE HANGED MAN');
}

function drawDeath(w,h) {
  var c = '' +' <rect x="0" y="0" width="'+w+'" height="'+h+'" fill="#090810"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.8)+'" r="'+(w*0.25)+'" fill="#ff5020" opacity="0.1"/>'
  +' <rect x="0" y="'+(h*0.68)+'" width="'+w+'" height="'+(h*0.32)+'" fill="#1a1008" opacity="0.8"/>'
  +' <ellipse cx="'+(w*0.45)+'" cy="'+(h*0.6)+'" rx="'+(w*0.22)+'" ry="'+(w*0.1)+'" fill="#e8e0d0" opacity="0.9"/>'
  +' <ellipse cx="'+(w*0.64)+'" cy="'+(h*0.55)+'" rx="'+(w*0.1)+'" ry="'+(w*0.08)+'" fill="#e8e0d0" opacity="0.9"/>'
  +' <ellipse cx="'+(w*0.73)+'" cy="'+(h*0.5)+'" rx="'+(w*0.06)+'" ry="'+(w*0.055)+'" fill="#e0d8c8" opacity="0.9"/>'
  +' <line x1="'+(w*0.35)+'" y1="'+(h*0.68)+'" x2="'+(w*0.32)+'" y2="'+(h*0.83)+'" stroke="#e0d8c8" stroke-width="4"/>'
  +' <line x1="'+(w*0.42)+'" y1="'+(h*0.69)+'" x2="'+(w*0.4)+'" y2="'+(h*0.83)+'" stroke="#e0d8c8" stroke-width="4"/>'
  +' <line x1="'+(w*0.52)+'" y1="'+(h*0.69)+'" x2="'+(w*0.54)+'" y2="'+(h*0.83)+'" stroke="#e0d8c8" stroke-width="4"/>'
  +' <line x1="'+(w*0.6)+'" y1="'+(h*0.68)+'" x2="'+(w*0.63)+'" y2="'+(h*0.83)+'" stroke="#e0d8c8" stroke-width="4"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.32)+'" r="'+(w*0.07)+'" fill="#e8e0d0"/>'
  +' <ellipse cx="'+(w*0.46)+'" cy="'+(h*0.31)+'" rx="'+(w*0.02)+'" ry="'+(w*0.025)+'" fill="#1a1008"/>'
  +' <ellipse cx="'+(w*0.54)+'" cy="'+(h*0.31)+'" rx="'+(w*0.02)+'" ry="'+(w*0.025)+'" fill="#1a1008"/>'
  +' <path d="M'+(w*0.46)+','+(h*0.36)+' L'+(w*0.54)+','+(h*0.36)+'" stroke="#e8e0d0" stroke-width="1.5"/>'
  +' <rect x="'+(w*0.43)+'" y="'+(h*0.38)+'" width="'+(w*0.14)+'" height="'+(h*0.14)+'" rx="2" fill="none" stroke="#e8e0d0" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.38)+'" x2="'+(w*0.5)+'" y2="'+(h*0.52)+'" stroke="#e8e0d0" stroke-width="1"/>'
  +' <line x1="'+(w*0.43)+'" y1="'+(h*0.44)+'" x2="'+(w*0.57)+'" y2="'+(h*0.44)+'" stroke="#e8e0d0" stroke-width="0.8"/>'
  +' <line x1="'+(w*0.65)+'" y1="'+(h*0.18)+'" x2="'+(w*0.65)+'" y2="'+(h*0.55)+'" stroke="#c0c0c0" stroke-width="2"/>'
  +' <rect x="'+(w*0.65)+'" y="'+(h*0.18)+'" width="'+(w*0.2)+'" height="'+(h*0.12)+'" rx="2" fill="#e8e8e8" opacity="0.9"/>'
  +' <circle cx="'+(w*0.78)+'" cy="'+(h*0.24)+'" r="'+(w*0.04)+'" fill="#ffffff" opacity="0.95"/>'
  +' <ellipse cx="'+(w*0.2)+'" cy="'+(h*0.72)+'" rx="'+(w*0.1)+'" ry="'+(h*0.04)+'" fill="#f0c890" opacity="0.6"/>'
  +' <circle cx="'+(w*0.32)+'" cy="'+(h*0.64)+'" r="'+(w*0.04)+'" fill="#f0c890"/>'
  +' <ellipse cx="'+(w*0.32)+'" cy="'+(h*0.7)+'" rx="'+(w*0.03)+'" ry="'+(w*0.04)+'" fill="#d0a020" opacity="0.8"/>';
  return svgBase(w,h,c,'XIII','DEATH');
}

function drawTemperance(w,h) {
  var c = '' +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.82)+'" r="'+(w*0.2)+'" fill="#ffcc30" opacity="0.14"/>'
  +' <path d="M0,'+(h*0.72)+' Q'+(w*0.3)+','+(h*0.6)+' '+(w*0.6)+','+(h*0.65)+' Q'+(w*0.8)+','+(h*0.72)+' '+w+','+(h*0.6)+' L'+w+','+h+' L0,'+h+'Z" fill="#0a1a0a" opacity="0.8"/>'
  +' <ellipse cx="'+(w*0.38)+'" cy="'+(h*0.72)+'" rx="'+(w*0.2)+'" ry="'+(w*0.08)+'" fill="#2060a0" opacity="0.7"/>'
  +' <path d="M'+(w*0.22)+','+(h*0.72)+' Q'+(w*0.38)+','+(h*0.69)+' '+(w*0.54)+','+(h*0.72)+'" fill="none" stroke="#4090c8" stroke-width="1" opacity="0.5"/>'
  +' <line x1="'+(w*0.2)+'" y1="'+(h*0.72)+'" x2="'+(w*0.2)+'" y2="'+(h*0.58)+'" stroke="#4a8020" stroke-width="2"/>'
  +' <ellipse cx="'+(w*0.2)+'" cy="'+(h*0.57)+'" rx="'+(w*0.03)+'" ry="'+(h*0.04)+'" fill="#9030d0"/>'
  +' <line x1="'+(w*0.26)+'" y1="'+(h*0.72)+'" x2="'+(w*0.24)+'" y2="'+(h*0.6)+'" stroke="#4a8020" stroke-width="2"/>'
  +' <ellipse cx="'+(w*0.24)+'" cy="'+(h*0.59)+'" rx="'+(w*0.03)+'" ry="'+(h*0.04)+'" fill="#9030d0"/>'
  +' <path d="M'+(w*0.55)+','+(h*0.72)+' Q'+(w*0.7)+','+(h*0.65)+' '+(w*0.85)+','+(h*0.5)+' Q'+(w*0.9)+','+(h*0.45)+' '+w+','+(h*0.42)+'" fill="none" stroke="#c9a84c" stroke-width="1" opacity="0.4"/>'
  +' <path d="M'+(w*0.7)+','+(h*0.4)+' L'+(w*0.82)+','+(h*0.25)+' L'+(w*0.9)+','+(h*0.4)+'Z" fill="#2a1830" opacity="0.5"/>'
  +' <path d="M'+(w*0.3)+','+(h*0.42)+' Q'+(w*0.18)+','+(h*0.32)+' '+(w*0.12)+','+(h*0.42)+' Q'+(w*0.2)+','+(h*0.48)+' '+(w*0.35)+','+(h*0.46)+'Z" fill="#e0e8ff" opacity="0.7"/>'
  +' <path d="M'+(w*0.7)+','+(h*0.42)+' Q'+(w*0.82)+','+(h*0.32)+' '+(w*0.88)+','+(h*0.42)+' Q'+(w*0.8)+','+(h*0.48)+' '+(w*0.65)+','+(h*0.46)+'Z" fill="#e0e8ff" opacity="0.7"/>'
  +' <line x1="'+(w*0.3)+'" y1="'+(h*0.42)+'" x2="'+(w*0.18)+'" y2="'+(h*0.32)+'" stroke="#c8d0f0" stroke-width="0.8" opacity="0.4"/>'
  +' <line x1="'+(w*0.3)+'" y1="'+(h*0.44)+'" x2="'+(w*0.14)+'" y2="'+(h*0.38)+'" stroke="#c8d0f0" stroke-width="0.8" opacity="0.4"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.58)+'" rx="'+(w*0.16)+'" ry="'+(h*0.16)+'" fill="#ffffff" opacity="0.88"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.32)+'" r="'+(w*0.09)+'" fill="#f0c890"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.3)+'" r="'+(w*0.04)+'" fill="#ffcc00" opacity="0.8"/>'
  +' <circle cx="'+(w*0.46)+'" cy="'+(h*0.32)+'" r="'+(w*0.015)+'" fill="#3a2010"/>'
  +' <circle cx="'+(w*0.54)+'" cy="'+(h*0.32)+'" r="'+(w*0.015)+'" fill="#3a2010"/>'
  +' <rect x="'+(w*0.32)+'" y="'+(h*0.44)+'" width="'+(w*0.08)+'" height="'+(h*0.1)+'" rx="2" fill="#c9a84c"/>'
  +' <rect x="'+(w*0.6)+'" y="'+(h*0.44)+'" width="'+(w*0.08)+'" height="'+(h*0.1)+'" rx="2" fill="#c9a84c"/>'
  +' <path d="M'+(w*0.4)+','+(h*0.48)+' Q'+(w*0.5)+','+(h*0.44)+' '+(w*0.6)+','+(h*0.5)+'" fill="none" stroke="#60a0ff" stroke-width="2.5" opacity="0.85"/>'
  +' <polygon points="'+(w*0.5)+','+(h*0.5)+' '+(w*0.44)+','+(h*0.6)+' '+(w*0.56)+','+(h*0.6)+'" fill="none" stroke="#c9a84c" stroke-width="1.2"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.56)+'" r="'+(w*0.016)+'" fill="#c9a84c"/>';
  return svgBase(w,h,c,'XIV','TEMPERANCE');
}

function drawDevil(w,h) {
  var c = '' +' <rect x="0" y="0" width="'+w+'" height="'+h+'" fill="#050108"/>'
  +' <path d="M'+(w*0.28)+','+(h*0.42)+' Q'+(w*0.12)+','+(h*0.28)+' '+(w*0.04)+','+(h*0.4)+' Q'+(w*0.08)+','+(h*0.52)+' '+(w*0.3)+','+(h*0.5)+'Z" fill="#3a1020" stroke="#c9a84c" stroke-width="0.5"/>'
  +' <path d="M'+(w*0.72)+','+(h*0.42)+' Q'+(w*0.88)+','+(h*0.28)+' '+(w*0.96)+','+(h*0.4)+' Q'+(w*0.92)+','+(h*0.52)+' '+(w*0.7)+','+(h*0.5)+'Z" fill="#3a1020" stroke="#c9a84c" stroke-width="0.5"/>'
  +' <line x1="'+(w*0.08)+'" y1="'+(h*0.32)+'" x2="'+(w*0.26)+'" y2="'+(h*0.44)+'" stroke="#3a1020" stroke-width="0.8" opacity="0.5"/>'
  +' <line x1="'+(w*0.08)+'" y1="'+(h*0.38)+'" x2="'+(w*0.26)+'" y2="'+(h*0.46)+'" stroke="#3a1020" stroke-width="0.8" opacity="0.5"/>'
  +' <line x1="'+(w*0.92)+'" y1="'+(h*0.32)+'" x2="'+(w*0.74)+'" y2="'+(h*0.44)+'" stroke="#3a1020" stroke-width="0.8" opacity="0.5"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.55)+'" rx="'+(w*0.2)+'" ry="'+(h*0.17)+'" fill="#2a0a08"/>'
  +' <path d="M'+(w*0.42)+','+(h*0.25)+' Q'+(w*0.38)+','+(h*0.15)+' '+(w*0.35)+','+(h*0.2)+'" fill="none" stroke="#8b1a2a" stroke-width="4.5" stroke-linecap="round"/>'
  +' <path d="M'+(w*0.58)+','+(h*0.25)+' Q'+(w*0.62)+','+(h*0.15)+' '+(w*0.65)+','+(h*0.2)+'" fill="none" stroke="#8b1a2a" stroke-width="4.5" stroke-linecap="round"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.3)+'" rx="'+(w*0.13)+'" ry="'+(w*0.12)+'" fill="#1a0808"/>'
  +' <polygon points="'+(w*0.5)+','+(h*0.16)+' '+(w*0.56)+','+(h*0.24)+' '+(w*0.44)+','+(h*0.24)+'" fill="none" stroke="#c9a84c" stroke-width="1" opacity="0.6"/>'
  +' <circle cx="'+(w*0.44)+'" cy="'+(h*0.28)+'" r="'+(w*0.025)+'" fill="#ff2020" opacity="0.95"/>'
  +' <circle cx="'+(w*0.56)+'" cy="'+(h*0.28)+'" r="'+(w*0.025)+'" fill="#ff2020" opacity="0.95"/>'
  +' <circle cx="'+(w*0.44)+'" cy="'+(h*0.28)+'" r="'+(w*0.01)+'" fill="#ff8080"/>'
  +' <circle cx="'+(w*0.56)+'" cy="'+(h*0.28)+'" r="'+(w*0.01)+'" fill="#ff8080"/>'
  +' <path d="M'+(w*0.46)+','+(h*0.34)+' Q'+(w*0.5)+','+(h*0.37)+' '+(w*0.54)+','+(h*0.34)+'" fill="none" stroke="#ff4040" stroke-width="1.2"/>'
  +' <rect x="'+(w*0.35)+'" y="'+(h*0.65)+'" width="'+(w*0.3)+'" height="'+(h*0.1)+'" rx="3" fill="#1a1020" stroke="#c9a84c" stroke-width="0.8"/>'
  +' <circle cx="'+(w*0.35)+'" cy="'+(h*0.72)+'" r="'+(w*0.05)+'" fill="#f0c890"/>'
  +' <ellipse cx="'+(w*0.35)+'" cy="'+(h*0.79)+'" rx="'+(w*0.04)+'" ry="'+(w*0.05)+'" fill="#804020"/>'
  +' <path d="M'+(w*0.35)+','+(h*0.67)+' Q'+(w*0.44)+','+(h*0.66)+' '+(w*0.5)+','+(h*0.68)+'" fill="none" stroke="#606060" stroke-width="1.5"/>'
  +' <circle cx="'+(w*0.65)+'" cy="'+(h*0.72)+'" r="'+(w*0.05)+'" fill="#f0c890"/>'
  +' <ellipse cx="'+(w*0.65)+'" cy="'+(h*0.79)+'" rx="'+(w*0.04)+'" ry="'+(w*0.05)+'" fill="#408040"/>'
  +' <path d="M'+(w*0.65)+','+(h*0.67)+' Q'+(w*0.56)+','+(h*0.66)+' '+(w*0.5)+','+(h*0.68)+'" fill="none" stroke="#606060" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.6)+'" y1="'+(h*0.45)+'" x2="'+(w*0.65)+'" y2="'+(h*0.32)+'" stroke="#8a6820" stroke-width="2"/>'
  +' <ellipse cx="'+(w*0.65)+'" cy="'+(h*0.3)+'" rx="'+(w*0.03)+'" ry="'+(h*0.04)+'" fill="#ff8000" opacity="0.9"/>'
  +' <ellipse cx="'+(w*0.65)+'" cy="'+(h*0.28)+'" rx="'+(w*0.02)+'" ry="'+(h*0.025)+'" fill="#ffee80" opacity="0.9"/>';
  return svgBase(w,h,c,'XV','THE DEVIL');
}

function drawTower(w,h) {
  var c = '' +' <rect x="0" y="0" width="'+w+'" height="'+(h*0.75)+'" fill="#0a0810"/>'
  +' <path d="M'+(w*0.62)+','+(h*0.08)+' L'+(w*0.5)+','+(h*0.28)+' L'+(w*0.56)+','+(h*0.28)+' L'+(w*0.44)+','+(h*0.46)+'" fill="none" stroke="#ffe060" stroke-width="3" opacity="0.95"/>'
  +' <path d="M'+(w*0.62)+','+(h*0.08)+' L'+(w*0.5)+','+(h*0.28)+' L'+(w*0.56)+','+(h*0.28)+' L'+(w*0.44)+','+(h*0.46)+'" fill="none" stroke="#fff" stroke-width="1" opacity="0.4"/>'
  +' <rect x="'+(w*0.28)+'" y="'+(h*0.25)+'" width="'+(w*0.44)+'" height="'+(h*0.5)+'" rx="3" fill="#2a2030" stroke="#c9a84c" stroke-width="0.8"/>'
  +' <line x1="'+(w*0.28)+'" y1="'+(h*0.45)+'" x2="'+(w*0.72)+'" y2="'+(h*0.45)+'" stroke="#3a3048" stroke-width="0.5" opacity="0.5"/>'
  +' <line x1="'+(w*0.28)+'" y1="'+(h*0.6)+'" x2="'+(w*0.72)+'" y2="'+(h*0.6)+'" stroke="#3a3048" stroke-width="0.5" opacity="0.5"/>'
  +' <rect x="'+(w*0.24)+'" y="'+(h*0.2)+'" width="'+(w*0.52)+'" height="'+(h*0.07)+'" rx="2" fill="#3a2040" stroke="#c9a84c" stroke-width="0.8"/>'
  +' <rect x="'+(w*0.38)+'" y="'+(h*0.35)+'" width="'+(w*0.1)+'" height="'+(h*0.12)+'" rx="2" fill="#ffaa20" opacity="0.75"/>'
  +' <rect x="'+(w*0.52)+'" y="'+(h*0.42)+'" width="'+(w*0.1)+'" height="'+(h*0.1)+'" rx="2" fill="#ffaa20" opacity="0.5"/>'
  +' <rect x="'+(w*0.38)+'" y="'+(h*0.58)+'" width="'+(w*0.08)+'" height="'+(h*0.1)+'" rx="2" fill="#ffaa20" opacity="0.3"/>'
  +' <rect x="0" y="'+(h*0.73)+'" width="'+w+'" height="'+(h*0.27)+'" fill="#100808" opacity="0.9"/>'
  +' <rect x="'+(w*0.58)+'" y="'+(h*0.13)+'" width="'+(w*0.22)+'" height="'+(h*0.055)+'" rx="2" fill="#c9a84c" transform="rotate(-22,'+(w*0.7)+','+(h*0.16)+')"/>'
  +' <circle cx="'+(w*0.22)+'" cy="'+(h*0.55)+'" r="'+(w*0.05)+'" fill="#f0c890"/>'
  +' <rect x="'+(w*0.18)+'" y="'+(h*0.6)+'" width="'+(w*0.08)+'" height="'+(h*0.1)+'" rx="2" fill="#c04040" transform="rotate(30,'+(w*0.22)+','+(h*0.65)+')"/>'
  +' <line x1="'+(w*0.18)+'" y1="'+(h*0.58)+'" x2="'+(w*0.1)+'" y2="'+(h*0.64)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.72)+'" cy="'+(h*0.58)+'" r="'+(w*0.05)+'" fill="#f0c890"/>'
  +' <rect x="'+(w*0.68)+'" y="'+(h*0.63)+'" width="'+(w*0.08)+'" height="'+(h*0.1)+'" rx="2" fill="#4040c0" transform="rotate(-25,'+(w*0.72)+','+(h*0.68)+')"/>'
  +' <line x1="'+(w*0.78)+'" y1="'+(h*0.56)+'" x2="'+(w*0.86)+'" y2="'+(h*0.62)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <ellipse cx="'+(w*0.36)+'" cy="'+(h*0.2)+'" rx="'+(w*0.045)+'" ry="'+(h*0.045)+'" fill="#ff4010" opacity="0.85"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.17)+'" rx="'+(w*0.045)+'" ry="'+(h*0.055)+'" fill="#ff8020" opacity="0.95"/>'
  +' <ellipse cx="'+(w*0.62)+'" cy="'+(h*0.21)+'" rx="'+(w*0.035)+'" ry="'+(h*0.035)+'" fill="#ff4010" opacity="0.85"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.17)+'" r="'+(w*0.02)+'" fill="#ffee80"/>';
  return svgBase(w,h,c,'XVI','THE TOWER');
}

function drawStar(w,h) {
  var c = '' +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.15)+'" r="'+(w*0.1)+'" fill="#fff8c0" opacity="0.9"/>'
  +' <polygon points="'+(w*0.5)+','+(h*0.07)+' '+(w*0.52)+','+(h*0.14)+' '+(w*0.59)+','+(h*0.15)+' '+(w*0.54)+','+(h*0.19)+' '+(w*0.56)+','+(h*0.26)+' '+(w*0.5)+','+(h*0.22)+' '+(w*0.44)+','+(h*0.26)+' '+(w*0.46)+','+(h*0.19)+' '+(w*0.41)+','+(h*0.15)+' '+(w*0.48)+','+(h*0.14)+'" fill="#ffe040"/>'
  +' <circle cx="'+(w*0.22)+'" cy="'+(h*0.12)+'" r="2" fill="#c8d8ff" opacity="0.8"/>'
  +' <circle cx="'+(w*0.78)+'" cy="'+(h*0.1)+'" r="2.5" fill="#c8d8ff" opacity="0.9"/>'
  +' <circle cx="'+(w*0.15)+'" cy="'+(h*0.3)+'" r="1.5" fill="#fff" opacity="0.6"/>'
  +' <circle cx="'+(w*0.85)+'" cy="'+(h*0.25)+'" r="1.5" fill="#ffe0a0" opacity="0.7"/>'
  +' <circle cx="'+(w*0.88)+'" cy="'+(h*0.42)+'" r="1.2" fill="#c8d8ff" opacity="0.5"/>'
  +' <polygon points="'+(w*0.68)+','+(h*0.08)+' '+(w*0.695)+','+(h*0.13)+' '+(w*0.73)+','+(h*0.13)+' '+(w*0.705)+','+(h*0.15)+' '+(w*0.715)+','+(h*0.18)+' '+(w*0.68)+','+(h*0.16)+' '+(w*0.645)+','+(h*0.18)+' '+(w*0.655)+','+(h*0.15)+' '+(w*0.63)+','+(h*0.13)+' '+(w*0.665)+','+(h*0.13)+'" fill="#c9a84c" opacity="0.7"/>'
  +' <polygon points="'+(w*0.3)+','+(h*0.25)+' '+(w*0.315)+','+(h*0.28)+' '+(w*0.34)+','+(h*0.28)+' '+(w*0.325)+','+(h*0.3)+' '+(w*0.33)+','+(h*0.33)+' '+(w*0.3)+','+(h*0.315)+' '+(w*0.27)+','+(h*0.33)+' '+(w*0.275)+','+(h*0.3)+' '+(w*0.26)+','+(h*0.28)+' '+(w*0.285)+','+(h*0.28)+'" fill="#c8d8ff" opacity="0.7"/>'
  +' <path d="M0,'+(h*0.72)+' Q'+(w*0.3)+','+(h*0.55)+' '+(w*0.6)+','+(h*0.65)+' Q'+(w*0.8)+','+(h*0.72)+' '+w+','+(h*0.6)+' L'+w+','+h+' L0,'+h+'Z" fill="#0a1a0a"/>'
  +' <ellipse cx="'+(w*0.32)+'" cy="'+(h*0.75)+'" rx="'+(w*0.22)+'" ry="'+(w*0.1)+'" fill="#1a4870" opacity="0.85"/>'
  +' <path d="M'+(w*0.18)+','+(h*0.75)+' Q'+(w*0.32)+','+(h*0.72)+' '+(w*0.46)+','+(h*0.75)+'" fill="none" stroke="#4080c0" stroke-width="0.8" opacity="0.5"/>'
  +' <line x1="'+(w*0.82)+'" y1="'+(h*0.6)+'" x2="'+(w*0.82)+'" y2="'+(h*0.85)+'" stroke="#1a3010" stroke-width="4"/>'
  +' <path d="M'+(w*0.82)+','+(h*0.65)+' Q'+(w*0.9)+','+(h*0.58)+' '+(w*0.95)+','+(h*0.62)+' Q'+(w*0.88)+','+(h*0.66)+' '+(w*0.82)+','+(h*0.65)+'" fill="#1a3010"/>'
  +' <ellipse cx="'+(w*0.92)+'" cy="'+(h*0.58)+'" rx="'+(w*0.05)+'" ry="'+(w*0.03)+'" fill="#f0f0f0"/>'
  +' <path d="M'+(w*0.86)+','+(h*0.57)+' Q'+(w*0.82)+','+(h*0.56)+' '+(w*0.79)+','+(h*0.57)+'" fill="none" stroke="#ff8040" stroke-width="1.2"/>'
  +' <path d="M'+(w*0.5)+','+(h*0.62)+' Q'+(w*0.44)+','+(h*0.72)+' '+(w*0.42)+','+(h*0.85)+' Q'+(w*0.46)+','+(h*0.87)+' '+(w*0.5)+','+(h*0.85)+' Q'+(w*0.52)+','+(h*0.72)+' '+(w*0.56)+','+(h*0.65)+'Z" fill="#c8a870"/>'
  +' <ellipse cx="'+(w*0.52)+'" cy="'+(h*0.56)+'" rx="'+(w*0.1)+'" ry="'+(h*0.12)+'" fill="#c8a870"/>'
  +' <circle cx="'+(w*0.52)+'" cy="'+(h*0.44)+'" r="'+(w*0.08)+'" fill="#f0c890"/>'
  +' <rect x="'+(w*0.35)+'" y="'+(h*0.56)+'" width="'+(w*0.07)+'" height="'+(h*0.09)+'" rx="2" fill="#c9a84c"/>'
  +' <path d="M'+(w*0.35)+','+(h*0.62)+' Q'+(w*0.25)+','+(h*0.7)+' '+(w*0.22)+','+(h*0.78)+'" fill="none" stroke="#4a9aba" stroke-width="1.5" opacity="0.8"/>'
  +' <rect x="'+(w*0.65)+'" y="'+(h*0.58)+'" width="'+(w*0.07)+'" height="'+(h*0.09)+'" rx="2" fill="#c9a84c"/>'
  +' <path d="M'+(w*0.72)+','+(h*0.64)+' Q'+(w*0.75)+','+(h*0.72)+' '+(w*0.72)+','+(h*0.82)+'" fill="none" stroke="#4a9aba" stroke-width="1.5" opacity="0.8"/>';
  return svgBase(w,h,c,'XVII','THE STAR');
}

function drawMoon(w,h) {
  var c = '' +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.22)+'" r="'+(w*0.2)+'" fill="#e8e0c0" opacity="0.18"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.22)+'" r="'+(w*0.15)+'" fill="#f0e8c0" opacity="0.32"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.22)+'" r="'+(w*0.11)+'" fill="#f8f0d0" opacity="0.5"/>'
  +' <circle cx="'+(w*0.57)+'" cy="'+(h*0.2)+'" r="'+(w*0.09)+'" fill="#0d0a1a" opacity="0.88"/>'
  +' <circle cx="'+(w*0.44)+'" cy="'+(h*0.19)+'" r="'+(w*0.02)+'" fill="#d0c8a0" opacity="0.3"/>'
  +' <circle cx="'+(w*0.48)+'" cy="'+(h*0.25)+'" r="'+(w*0.015)+'" fill="#d0c8a0" opacity="0.25"/>'
  +' <rect x="'+(w*0.08)+'" y="'+(h*0.45)+'" width="'+(w*0.14)+'" height="'+(h*0.35)+'" rx="3" fill="#1a0f30" stroke="#c9a84c" stroke-width="0.8"/>'
  +' <rect x="'+(w*0.78)+'" y="'+(h*0.45)+'" width="'+(w*0.14)+'" height="'+(h*0.35)+'" rx="3" fill="#1a0f30" stroke="#c9a84c" stroke-width="0.8"/>'
  +' <rect x="'+(w*0.06)+'" y="'+(h*0.43)+'" width="'+(w*0.18)+'" height="'+(h*0.025)+'" rx="2" fill="#c9a84c" opacity="0.4"/>'
  +' <rect x="'+(w*0.76)+'" y="'+(h*0.43)+'" width="'+(w*0.18)+'" height="'+(h*0.025)+'" rx="2" fill="#c9a84c" opacity="0.4"/>'
  +' <rect x="'+(w*0.12)+'" y="'+(h*0.52)+'" width="'+(w*0.06)+'" height="'+(h*0.08)+'" rx="2" fill="#ffaa00" opacity="0.4"/>'
  +' <rect x="'+(w*0.82)+'" y="'+(h*0.52)+'" width="'+(w*0.06)+'" height="'+(h*0.08)+'" rx="2" fill="#ffaa00" opacity="0.4"/>'
  +' <path d="M'+(w*0.22)+','+(h*0.8)+' Q'+(w*0.5)+','+(h*0.75)+' '+(w*0.78)+','+(h*0.8)+'" fill="none" stroke="#c9a84c" stroke-width="1" opacity="0.35"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.72)+'" rx="'+(w*0.26)+'" ry="'+(w*0.1)+'" fill="#1a2850" opacity="0.9"/>'
  +' <path d="M'+(w*0.34)+','+(h*0.72)+' Q'+(w*0.5)+','+(h*0.69)+' '+(w*0.66)+','+(h*0.72)+'" fill="none" stroke="#3060a0" stroke-width="1" opacity="0.5"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.73)+'" rx="'+(w*0.06)+'" ry="'+(w*0.04)+'" fill="#c04040" opacity="0.85"/>'
  +' <line x1="'+(w*0.44)+'" y1="'+(h*0.73)+'" x2="'+(w*0.38)+'" y2="'+(h*0.7)+'" stroke="#c04040" stroke-width="1"/>'
  +' <line x1="'+(w*0.44)+'" y1="'+(h*0.74)+'" x2="'+(w*0.38)+'" y2="'+(h*0.77)+'" stroke="#c04040" stroke-width="1"/>'
  +' <line x1="'+(w*0.56)+'" y1="'+(h*0.73)+'" x2="'+(w*0.62)+'" y2="'+(h*0.7)+'" stroke="#c04040" stroke-width="1"/>'
  +' <line x1="'+(w*0.56)+'" y1="'+(h*0.74)+'" x2="'+(w*0.62)+'" y2="'+(h*0.77)+'" stroke="#c04040" stroke-width="1"/>'
  +' <path d="M'+(w*0.14)+','+(h*0.6)+' Q'+(w*0.1)+','+(h*0.53)+' '+(w*0.16)+','+(h*0.48)+' Q'+(w*0.22)+','+(h*0.55)+' '+(w*0.25)+','+(h*0.53)+' Q'+(w*0.3)+','+(h*0.6)+' '+(w*0.26)+','+(h*0.67)+'Z" fill="#5a5050"/>'
  +' <circle cx="'+(w*0.17)+'" cy="'+(h*0.49)+'" r="'+(w*0.016)+'" fill="#ffee40" opacity="0.7"/>'
  +' <path d="M'+(w*0.72)+','+(h*0.6)+' Q'+(w*0.78)+','+(h*0.53)+' '+(w*0.8)+','+(h*0.48)+' Q'+(w*0.86)+','+(h*0.55)+' '+(w*0.88)+','+(h*0.53)+' Q'+(w*0.88)+','+(h*0.62)+' '+(w*0.82)+','+(h*0.67)+'Z" fill="#8a7060"/>'
  +' <circle cx="'+(w*0.82)+'" cy="'+(h*0.5)+'" r="'+(w*0.016)+'" fill="#2a2010"/>'
  +' <ellipse cx="'+(w*0.3)+'" cy="'+(h*0.4)+'" rx="2" ry="3" fill="#c9a84c" opacity="0.55"/>'
  +' <ellipse cx="'+(w*0.7)+'" cy="'+(h*0.38)+'" rx="2" ry="3" fill="#c9a84c" opacity="0.55"/>'
  +' <ellipse cx="'+(w*0.42)+'" cy="'+(h*0.35)+'" rx="2" ry="3" fill="#c9a84c" opacity="0.45"/>'
  +' <ellipse cx="'+(w*0.6)+'" cy="'+(h*0.42)+'" rx="2" ry="3" fill="#c9a84c" opacity="0.45"/>'
  +' <ellipse cx="'+(w*0.22)+'" cy="'+(h*0.46)+'" rx="1.5" ry="2.5" fill="#c9a84c" opacity="0.35"/>';
  return svgBase(w,h,c,'XVIII','THE MOON');
}

function drawSun(w,h) {
  var c = '' +' <rect x="0" y="0" width="'+w+'" height="'+h+'" fill="#150b00"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.27)+'" r="'+(w*0.24)+'" fill="#ffcc00" opacity="0.18"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.27)+'" r="'+(w*0.18)+'" fill="#ffcc00" opacity="0.38"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.27)+'" r="'+(w*0.13)+'" fill="#ffe840" opacity="0.9"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.05)+'" x2="'+(w*0.5)+'" y2="'+(h*0.12)+'" stroke="#ffd700" stroke-width="3.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.42)+'" x2="'+(w*0.5)+'" y2="'+(h*0.49)+'" stroke="#ffd700" stroke-width="3.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.12)+'" y1="'+(h*0.27)+'" x2="'+(w*0.2)+'" y2="'+(h*0.27)+'" stroke="#ffd700" stroke-width="3.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.8)+'" y1="'+(h*0.27)+'" x2="'+(w*0.88)+'" y2="'+(h*0.27)+'" stroke="#ffd700" stroke-width="3.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.2)+'" y1="'+(h*0.09)+'" x2="'+(w*0.27)+'" y2="'+(h*0.16)+'" stroke="#ffd700" stroke-width="2.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.8)+'" y1="'+(h*0.09)+'" x2="'+(w*0.73)+'" y2="'+(h*0.16)+'" stroke="#ffd700" stroke-width="2.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.2)+'" y1="'+(h*0.45)+'" x2="'+(w*0.27)+'" y2="'+(h*0.38)+'" stroke="#ffd700" stroke-width="2.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.8)+'" y1="'+(h*0.45)+'" x2="'+(w*0.73)+'" y2="'+(h*0.38)+'" stroke="#ffd700" stroke-width="2.5" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.09)+'" y1="'+(h*0.16)+'" x2="'+(w*0.15)+'" y2="'+(h*0.21)+'" stroke="#ffd700" stroke-width="2" stroke-linecap="round"/>'
  +' <line x1="'+(w*0.91)+'" y1="'+(h*0.16)+'" x2="'+(w*0.85)+'" y2="'+(h*0.21)+'" stroke="#ffd700" stroke-width="2" stroke-linecap="round"/>'
  +' <circle cx="'+(w*0.44)+'" cy="'+(h*0.25)+'" r="'+(w*0.025)+'" fill="#fff8c0" opacity="0.9"/>'
  +' <circle cx="'+(w*0.56)+'" cy="'+(h*0.25)+'" r="'+(w*0.025)+'" fill="#fff8c0" opacity="0.9"/>'
  +' <circle cx="'+(w*0.44)+'" cy="'+(h*0.25)+'" r="'+(w*0.015)+'" fill="#8b4513"/>'
  +' <circle cx="'+(w*0.56)+'" cy="'+(h*0.25)+'" r="'+(w*0.015)+'" fill="#8b4513"/>'
  +' <path d="M'+(w*0.44)+','+(h*0.3)+' Q'+(w*0.5)+','+(h*0.34)+' '+(w*0.56)+','+(h*0.3)+'" fill="none" stroke="#8b4513" stroke-width="1.2"/>'
  +' <rect x="0" y="'+(h*0.67)+'" width="'+w+'" height="'+(h*0.15)+'" rx="2" fill="#2a1508" opacity="0.9"/>'
  +' <line x1="'+(w*0.2)+'" y1="'+(h*0.67)+'" x2="'+(w*0.2)+'" y2="'+(h*0.55)+'" stroke="#4a8020" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.2)+'" cy="'+(h*0.53)+'" r="'+(w*0.06)+'" fill="#ffd700"/>'
  +' <circle cx="'+(w*0.2)+'" cy="'+(h*0.53)+'" r="'+(w*0.03)+'" fill="#8b4513"/>'
  +' <line x1="'+(w*0.4)+'" y1="'+(h*0.67)+'" x2="'+(w*0.4)+'" y2="'+(h*0.58)+'" stroke="#4a8020" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.4)+'" cy="'+(h*0.56)+'" r="'+(w*0.055)+'" fill="#ffd700"/>'
  +' <circle cx="'+(w*0.4)+'" cy="'+(h*0.56)+'" r="'+(w*0.028)+'" fill="#8b4513"/>'
  +' <line x1="'+(w*0.62)+'" y1="'+(h*0.67)+'" x2="'+(w*0.62)+'" y2="'+(h*0.54)+'" stroke="#4a8020" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.62)+'" cy="'+(h*0.52)+'" r="'+(w*0.055)+'" fill="#ffd700"/>'
  +' <circle cx="'+(w*0.62)+'" cy="'+(h*0.52)+'" r="'+(w*0.028)+'" fill="#8b4513"/>'
  +' <line x1="'+(w*0.82)+'" y1="'+(h*0.67)+'" x2="'+(w*0.82)+'" y2="'+(h*0.57)+'" stroke="#4a8020" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.82)+'" cy="'+(h*0.55)+'" r="'+(w*0.05)+'" fill="#ffd700"/>'
  +' <circle cx="'+(w*0.82)+'" cy="'+(h*0.55)+'" r="'+(w*0.026)+'" fill="#8b4513"/>'
  +' <ellipse cx="'+(w*0.46)+'" cy="'+(h*0.75)+'" rx="'+(w*0.2)+'" ry="'+(w*0.08)+'" fill="#f0ebe0"/>'
  +' <ellipse cx="'+(w*0.62)+'" cy="'+(h*0.7)+'" rx="'+(w*0.09)+'" ry="'+(w*0.06)+'" fill="#f0ebe0"/>'
  +' <ellipse cx="'+(w*0.7)+'" cy="'+(h*0.66)+'" rx="'+(w*0.05)+'" ry="'+(w*0.05)+'" fill="#f0ebe0"/>'
  +' <circle cx="'+(w*0.74)+'" cy="'+(h*0.63)+'" r="'+(w*0.035)+'" fill="#e0dbd0"/>'
  +' <circle cx="'+(w*0.46)+'" cy="'+(h*0.66)+'" r="'+(w*0.06)+'" fill="#f5c8a0"/>'
  +' <ellipse cx="'+(w*0.46)+'" cy="'+(h*0.73)+'" rx="'+(w*0.07)+'" ry="'+(w*0.06)+'" fill="#ff5030"/>'
  +' <line x1="'+(w*0.46)+'" y1="'+(h*0.7)+'" x2="'+(w*0.58)+'" y2="'+(h*0.62)+'" stroke="#ff5030" stroke-width="2"/>'
  +' <circle cx="'+(w*0.6)+'" cy="'+(h*0.61)+'" r="'+(w*0.03)+'" fill="#f5c8a0"/>'
  +' <line x1="'+(w*0.6)+'" y1="'+(h*0.61)+'" x2="'+(w*0.6)+'" y2="'+(h*0.52)+'" stroke="#c0a060" stroke-width="1.5"/>'
  +' <rect x="'+(w*0.61)+'" y="'+(h*0.5)+'" width="'+(w*0.13)+'" height="'+(h*0.1)+'" rx="1" fill="#ff3030" opacity="0.85"/>';
  return svgBase(w,h,c,'XIX','THE SUN');
}

function drawJudgement(w,h) {
  var c = '' +' <rect x="0" y="0" width="'+w+'" height="'+h+'" fill="#080c18"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.15)+'" r="'+(w*0.15)+'" fill="#ffcc40" opacity="0.2"/>'
  +' <path d="M'+(w*0.25)+','+(h*0.22)+' Q'+(w*0.1)+','+(h*0.12)+' '+(w*0.04)+','+(h*0.26)+' Q'+(w*0.12)+','+(h*0.32)+' '+(w*0.32)+','+(h*0.28)+'Z" fill="#f0f0ff" opacity="0.7"/>'
  +' <path d="M'+(w*0.75)+','+(h*0.22)+' Q'+(w*0.9)+','+(h*0.12)+' '+(w*0.96)+','+(h*0.26)+' Q'+(w*0.88)+','+(h*0.32)+' '+(w*0.68)+','+(h*0.28)+'Z" fill="#f0f0ff" opacity="0.7"/>'
  +' <line x1="'+(w*0.25)+'" y1="'+(h*0.22)+'" x2="'+(w*0.1)+'" y2="'+(h*0.16)+'" stroke="#e0e0ff" stroke-width="0.8" opacity="0.5"/>'
  +' <line x1="'+(w*0.25)+'" y1="'+(h*0.24)+'" x2="'+(w*0.06)+'" y2="'+(h*0.22)+'" stroke="#e0e0ff" stroke-width="0.8" opacity="0.5"/>'
  +' <line x1="'+(w*0.75)+'" y1="'+(h*0.22)+'" x2="'+(w*0.9)+'" y2="'+(h*0.16)+'" stroke="#e0e0ff" stroke-width="0.8" opacity="0.5"/>'
  +' <line x1="'+(w*0.75)+'" y1="'+(h*0.24)+'" x2="'+(w*0.94)+'" y2="'+(h*0.22)+'" stroke="#e0e0ff" stroke-width="0.8" opacity="0.5"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.19)+'" r="'+(w*0.07)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.43)+','+(h*0.25)+' Q'+(w*0.5)+','+(h*0.32)+' '+(w*0.57)+','+(h*0.25)+'Z" fill="#ff8040" opacity="0.8"/>'
  +' <line x1="'+(w*0.5)+'" y1="'+(h*0.22)+'" x2="'+(w*0.5)+'" y2="'+(h*0.3)+'" stroke="#c0a060" stroke-width="1.5"/>'
  +' <rect x="'+(w*0.42)+'" y="'+(h*0.28)+'" width="'+(w*0.16)+'" height="'+(h*0.05)+'" rx="2" fill="#ffaa20" opacity="0.9"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.26)+'" r="'+(w*0.015)+'" fill="#ffee80"/>'
  +' <path d="M'+(w*0.4)+','+(h*0.32)+' L'+(w*0.4)+','+(h*0.28)+' L'+(w*0.6)+','+(h*0.28)+' L'+(w*0.6)+','+(h*0.32)+'" fill="none" stroke="#ffaa20" stroke-width="1"/>'
  +' <rect x="0" y="'+(h*0.72)+'" width="'+w+'" height="'+(h*0.28)+'" fill="#1a1010" opacity="0.9"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.6)+'" rx="'+(w*0.44)+'" ry="'+(w*0.07)+'" fill="#1a2050" opacity="0.8"/>'
  +' <path d="M'+(w*0.46)+','+(h*0.53)+' Q'+(w*0.42)+','+(h*0.56)+' '+(w*0.38)+','+(h*0.6)+' L'+(w*0.36)+','+(h*0.72)+' L'+(w*0.56)+','+(h*0.72)+' L'+(w*0.54)+','+(h*0.6)+' Q'+(w*0.5)+','+(h*0.55)+' '+(w*0.54)+','+(h*0.53)+'Z" fill="#c8c8e8" opacity="0.8"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.49)+'" r="'+(w*0.07)+'" fill="#f0c890"/>'
  +' <circle cx="'+(w*0.47)+'" cy="'+(h*0.48)+'" r="'+(w*0.015)+'" fill="#3a2010"/>'
  +' <circle cx="'+(w*0.53)+'" cy="'+(h*0.48)+'" r="'+(w*0.015)+'" fill="#3a2010"/>'
  +' <line x1="'+(w*0.46)+'" y1="'+(h*0.55)+'" x2="'+(w*0.3)+'" y2="'+(h*0.6)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.54)+'" y1="'+(h*0.55)+'" x2="'+(w*0.7)+'" y2="'+(h*0.6)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <circle cx="'+(w*0.22)+'" cy="'+(h*0.65)+'" r="'+(w*0.06)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.16)+','+(h*0.7)+' Q'+(w*0.22)+','+(h*0.68)+' '+(w*0.28)+','+(h*0.7)+' L'+(w*0.28)+','+(h*0.8)+' L'+(w*0.16)+','+(h*0.8)+'Z" fill="#6080c0" opacity="0.8"/>'
  +' <circle cx="'+(w*0.78)+'" cy="'+(h*0.65)+'" r="'+(w*0.06)+'" fill="#f0c890"/>'
  +' <path d="M'+(w*0.72)+','+(h*0.7)+' Q'+(w*0.78)+','+(h*0.68)+' '+(w*0.84)+','+(h*0.7)+' L'+(w*0.84)+','+(h*0.8)+' L'+(w*0.72)+','+(h*0.8)+'Z" fill="#c06030" opacity="0.8"/>'
  +' <ellipse cx="'+(w*0.22)+'" cy="'+(h*0.62)+'" rx="'+(w*0.08)+'" ry="'+(w*0.03)+'" fill="#c9a84c" opacity="0.4"/>'
  +' <ellipse cx="'+(w*0.78)+'" cy="'+(h*0.62)+'" rx="'+(w*0.08)+'" ry="'+(w*0.03)+'" fill="#c9a84c" opacity="0.4"/>'
  +' <line x1="'+(w*0.38)+'" y1="'+(h*0.62)+'" x2="'+(w*0.3)+'" y2="'+(h*0.52)+'" stroke="#ffcc40" stroke-width="1" opacity="0.5"/>'
  +' <line x1="'+(w*0.62)+'" y1="'+(h*0.62)+'" x2="'+(w*0.7)+'" y2="'+(h*0.52)+'" stroke="#ffcc40" stroke-width="1" opacity="0.5"/>';
  return svgBase(w,h,c,'XX','JUDGEMENT');
}

function drawWorld(w,h) {
  var c = '' +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.5)+'" rx="'+(w*0.36)+'" ry="'+(h*0.42)+'" fill="none" stroke="#c9a84c" stroke-width="2.5"/>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.5)+'" rx="'+(w*0.33)+'" ry="'+(h*0.39)+'" fill="none" stroke="#8a6820" stroke-width="0.8" opacity="0.5"/>'
  +' <path d="M'+(w*0.22)+','+(h*0.12)+' Q'+(w*0.3)+','+(h*0.06)+' '+(w*0.38)+','+(h*0.1)+' Q'+(w*0.5)+','+(h*0.06)+' '+(w*0.62)+','+(h*0.1)+' Q'+(w*0.7)+','+(h*0.06)+' '+(w*0.78)+','+(h*0.12)+' Q'+(w*0.82)+','+(h*0.2)+' '+(w*0.78)+','+(h*0.24)+' Q'+(w*0.5)+','+(h*0.18)+' '+(w*0.22)+','+(h*0.24)+' Q'+(w*0.18)+','+(h*0.2)+' '+(w*0.22)+','+(h*0.12)+'Z" fill="#6a9830" opacity="0.7"/>'
  +' <path d="M'+(w*0.22)+','+(h*0.76)+' Q'+(w*0.3)+','+(h*0.82)+' '+(w*0.38)+','+(h*0.88)+' Q'+(w*0.5)+','+(h*0.92)+' '+(w*0.62)+','+(h*0.88)+' Q'+(w*0.7)+','+(h*0.82)+' '+(w*0.78)+','+(h*0.76)+' Q'+(w*0.82)+','+(h*0.82)+' '+(w*0.78)+','+(h*0.88)+' Q'+(w*0.5)+','+(h*0.95)+' '+(w*0.22)+','+(h*0.88)+' Q'+(w*0.18)+','+(h*0.82)+' '+(w*0.22)+','+(h*0.76)+'Z" fill="#6a9830" opacity="0.7"/>'
  +' <text x="'+(w*0.08)+'" y="'+(h*0.22)+'" font-family="serif" font-size="'+(w*0.08)+'" fill="#c9a84c" text-anchor="middle" opacity="0.75">â™…</text>'
  +' <text x="'+(w*0.92)+'" y="'+(h*0.22)+'" font-family="serif" font-size="'+(w*0.08)+'" fill="#c9a84c" text-anchor="middle" opacity="0.75">â™Œ</text>'
  +' <text x="'+(w*0.08)+'" y="'+(h*0.82)+'" font-family="serif" font-size="'+(w*0.08)+'" fill="#c9a84c" text-anchor="middle" opacity="0.75">â™‰</text>'
  +' <text x="'+(w*0.92)+'" y="'+(h*0.82)+'" font-family="serif" font-size="'+(w*0.08)+'" fill="#c9a84c" text-anchor="middle" opacity="0.75">â™’</text>'
  +' <ellipse cx="'+(w*0.5)+'" cy="'+(h*0.5)+'" rx="'+(w*0.12)+'" ry="'+(h*0.16)+'" fill="#f0c890" opacity="0.9"/>'
  +' <circle cx="'+(w*0.5)+'" cy="'+(h*0.33)+'" r="'+(w*0.08)+'" fill="#f0c890"/>'
  +' <circle cx="'+(w*0.47)+'" cy="'+(h*0.32)+'" r="'+(w*0.015)+'" fill="#3a2010"/>'
  +' <circle cx="'+(w*0.53)+'" cy="'+(h*0.32)+'" r="'+(w*0.015)+'" fill="#3a2010"/>'
  +' <path d="M'+(w*0.47)+','+(h*0.36)+' Q'+(w*0.5)+','+(h*0.38)+' '+(w*0.53)+','+(h*0.36)+'" fill="none" stroke="#c07060" stroke-width="0.8"/>'
  +' <path d="M'+(w*0.38)+','+(h*0.4)+' Q'+(w*0.26)+','+(h*0.44)+' '+(w*0.28)+','+(h*0.58)+' Q'+(w*0.3)+','+(h*0.66)+' '+(w*0.38)+','+(h*0.68)+'Z" fill="#6040a0" opacity="0.7"/>'
  +' <path d="M'+(w*0.62)+','+(h*0.4)+' Q'+(w*0.74)+','+(h*0.44)+' '+(w*0.72)+','+(h*0.58)+' Q'+(w*0.7)+','+(h*0.66)+' '+(w*0.62)+','+(h*0.68)+'Z" fill="#6040a0" opacity="0.7"/>'
  +' <line x1="'+(w*0.4)+'" y1="'+(h*0.42)+'" x2="'+(w*0.3)+'" y2="'+(h*0.38)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.32)+'" y1="'+(h*0.37)+'" x2="'+(w*0.36)+'" y2="'+(h*0.28)+'" stroke="#c0a060" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.36)+'" y1="'+(h*0.28)+'" x2="'+(w*0.32)+'" y2="'+(h*0.22)+'" stroke="#c9a84c" stroke-width="1.5"/>'
  +' <line x1="'+(w*0.6)+'" y1="'+(h*0.42)+'" x2="'+(w*0.7)+'" y2="'+(h*0.38)+'" stroke="#f0c890" stroke-width="2.5"/>'
  +' <line x1="'+(w*0.68)+'" y1="'+(h*0.37)+'" x2="'+(w*0.62)+'" y2="'+(h*0.3)+'" stroke="#c0a060" stroke-width="1.5"/>'
  +' <circle cx="'+(w*0.34)+'" cy="'+(h*0.56)+'" r="'+(w*0.015)+'" fill="#c9a84c" opacity="0.6"/>'
  +' <circle cx="'+(w*0.66)+'" cy="'+(h*0.56)+'" r="'+(w*0.015)+'" fill="#c9a84c" opacity="0.6"/>';
  return svgBase(w,h,c,'XXI','THE WORLD');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINOR ARCANA SVG DRAWING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var SUIT_CONFIG = {
  Wands:     { color:'#e85830', colorDim:'#a03018', element:'\u{1F525}', elemName:'Fire', bgGrad:['#2a1008','#180408'] },
  Cups:      { color:'#4090d0', colorDim:'#285880', element:'\u{1F4A7}', elemName:'Water', bgGrad:['#081828','#040818'] },
  Swords:    { color:'#c0c8d8', colorDim:'#707888', element:'\u{1F4A8}', elemName:'Air', bgGrad:['#181820','#0c0c14'] },
  Pentacles: { color:'#d0a830', colorDim:'#887020', element:'\u{1F30D}', elemName:'Earth', bgGrad:['#1a1808','#100c04'] }
};

function drawSuitSymbol(cx, cy, suit, size) {
  var sc = SUIT_CONFIG[suit];
  if (suit === 'Wands') {
    return '<line x1="'+cx+'" y1="'+(cy-size*0.7)+'" x2="'+cx+'" y2="'+(cy+size*0.7)+'" stroke="'+sc.color+'" stroke-width="'+(size*0.18)+'" stroke-linecap="round"/>'
      +'<circle cx="'+cx+'" cy="'+(cy-size*0.7)+'" r="'+(size*0.15)+'" fill="#ff8040"/>'
      +'<circle cx="'+cx+'" cy="'+(cy-size*0.7)+'" r="'+(size*0.08)+'" fill="#ffe080"/>';
  }
  if (suit === 'Cups') {
    return '<path d="M'+(cx-size*0.35)+','+(cy-size*0.4)+' L'+(cx-size*0.25)+','+(cy+size*0.35)+' Q'+cx+','+(cy+size*0.65)+' '+(cx+size*0.25)+','+(cy+size*0.35)+' L'+(cx+size*0.35)+','+(cy-size*0.4)+'Z" fill="'+sc.color+'" opacity="0.85"/>'
      +'<ellipse cx="'+cx+'" cy="'+(cy-size*0.4)+'" rx="'+(size*0.35)+'" ry="'+(size*0.12)+'" fill="'+sc.colorDim+'"/>'
      +'<ellipse cx="'+cx+'" cy="'+(cy-size*0.3)+'" rx="'+(size*0.18)+'" ry="'+(size*0.06)+'" fill="#80c0ff" opacity="0.5"/>';
  }
  if (suit === 'Swords') {
    return '<line x1="'+cx+'" y1="'+(cy-size*0.7)+'" x2="'+cx+'" y2="'+(cy+size*0.5)+'" stroke="'+sc.color+'" stroke-width="'+(size*0.1)+'" stroke-linecap="round"/>'
      +'<polygon points="'+cx+','+(cy-size*0.7)+' '+(cx-size*0.08)+','+(cy-size*0.55)+' '+(cx+size*0.08)+','+(cy-size*0.55)+'" fill="#e0e8f0"/>'
      +'<line x1="'+(cx-size*0.25)+'" y1="'+(cy-size*0.15)+'" x2="'+(cx+size*0.25)+'" y2="'+(cy-size*0.15)+'" stroke="'+sc.color+'" stroke-width="'+(size*0.08)+'" stroke-linecap="round"/>';
  }
  // Pentacles
  return '<circle cx="'+cx+'" cy="'+cy+'" r="'+(size*0.45)+'" fill="none" stroke="'+sc.color+'" stroke-width="'+(size*0.08)+'"/>'
    +'<circle cx="'+cx+'" cy="'+cy+'" r="'+(size*0.35)+'" fill="'+sc.color+'" opacity="0.2"/>'
    +'<text x="'+cx+'" y="'+(cy+size*0.15)+'" font-family="serif" font-size="'+(size*0.5)+'" fill="'+sc.color+'" text-anchor="middle">\u2605</text>';
}

function drawMinorCard(w, h, suit, value, displayName) {
  var sc = SUIT_CONFIG[suit];
  var valueLabels = {1:'A',2:'2',3:'3',4:'4',5:'5',6:'6',7:'7',8:'8',9:'9',10:'10',11:'Pg',12:'Kn',13:'Q',14:'K'};
  var valText = valueLabels[value] || String(value);

  var defs = '<defs><radialGradient id="mbg_'+suit+'_'+value+'" cx="50%" cy="35%">'
    +'<stop offset="0%" stop-color="'+sc.bgGrad[0]+'"/>'
    +'<stop offset="100%" stop-color="'+sc.bgGrad[1]+'"/>'
    +'</radialGradient></defs>';

  var svg = '<svg viewBox="0 0 '+w+' '+h+'" xmlns="http://www.w3.org/2000/svg">'
    +defs
    +'<rect width="'+w+'" height="'+h+'" fill="url(#mbg_'+suit+'_'+value+')"/>';

  // Borders
  svg += '<rect x="5" y="5" width="'+(w-10)+'" height="'+(h-10)+'" fill="none" stroke="'+sc.color+'" stroke-width="1" rx="7" opacity="0.35"/>';
  svg += '<rect x="9" y="9" width="'+(w-18)+'" height="'+(h-18)+'" fill="none" stroke="'+sc.color+'" stroke-width="0.5" rx="4" opacity="0.15"/>';

  // Corner value labels (top-left and bottom-right rotated)
  svg += '<text x="16" y="26" font-family="serif" font-size="'+(w*0.1)+'" fill="'+sc.color+'" font-weight="bold">'+valText+'</text>';
  svg += '<text x="'+(w-16)+'" y="'+(h-14)+'" font-family="serif" font-size="'+(w*0.1)+'" fill="'+sc.color+'" text-anchor="end" font-weight="bold" transform="rotate(180,'+(w-16)+','+(h-18)+')">'+valText+'</text>';

  // Element emoji (top-right) and label (bottom-left)
  svg += '<text x="'+(w-18)+'" y="24" font-family="sans-serif" font-size="'+(w*0.08)+'" text-anchor="end">'+sc.element+'</text>';
  svg += '<text x="18" y="'+(h-14)+'" font-family="serif" font-size="'+(w*0.055)+'" fill="'+sc.colorDim+'" opacity="0.7">'+sc.elemName+'</text>';

  // Small suit symbol under top-left value
  svg += drawSuitSymbol(18, 38, suit, w*0.08);

  if (value >= 1 && value <= 10) {
    // --- PIP CARDS ---
    var cx = w/2, cy = h/2;
    if (value === 1) {
      // ACE - one large centered symbol with rays
      svg += drawSuitSymbol(cx, cy-10, suit, w*0.35);
      for (var ri=0; ri<8; ri++) {
        var angle = ri * Math.PI/4;
        var x1 = cx + Math.cos(angle)*(w*0.22), y1 = (cy-10) + Math.sin(angle)*(w*0.22);
        var x2 = cx + Math.cos(angle)*(w*0.32), y2 = (cy-10) + Math.sin(angle)*(w*0.32);
        svg += '<line x1="'+x1+'" y1="'+y1+'" x2="'+x2+'" y2="'+y2+'" stroke="'+sc.color+'" stroke-width="0.8" opacity="0.3"/>';
      }
    } else {
      var pipSize = w*0.12;
      var positions = [];
      var midX = w/2, topY = h*0.18, botY = h*0.73, midY = h*0.455;
      var leftX = w*0.3, rightX = w*0.7;
      if (value===2) positions = [[midX,topY+15],[midX,botY-15]];
      else if (value===3) positions = [[midX,topY+15],[midX,midY],[midX,botY-15]];
      else if (value===4) positions = [[leftX,topY+15],[rightX,topY+15],[leftX,botY-15],[rightX,botY-15]];
      else if (value===5) positions = [[leftX,topY+15],[rightX,topY+15],[midX,midY],[leftX,botY-15],[rightX,botY-15]];
      else if (value===6) positions = [[leftX,topY+15],[rightX,topY+15],[leftX,midY],[rightX,midY],[leftX,botY-15],[rightX,botY-15]];
      else if (value===7) positions = [[leftX,topY+15],[rightX,topY+15],[leftX,midY],[midX,h*0.35],[rightX,midY],[leftX,botY-15],[rightX,botY-15]];
      else if (value===8) positions = [[leftX,topY+15],[rightX,topY+15],[leftX,h*0.35],[rightX,h*0.35],[leftX,h*0.56],[rightX,h*0.56],[leftX,botY-15],[rightX,botY-15]];
      else if (value===9) positions = [[leftX,topY+15],[rightX,topY+15],[leftX,h*0.32],[rightX,h*0.32],[midX,midY],[leftX,h*0.58],[rightX,h*0.58],[leftX,botY-15],[rightX,botY-15]];
      else if (value===10) positions = [[leftX,topY+15],[rightX,topY+15],[leftX,h*0.3],[rightX,h*0.3],[midX,h*0.37],[midX,h*0.53],[leftX,h*0.6],[rightX,h*0.6],[leftX,botY-15],[rightX,botY-15]];
      for (var pi=0; pi<positions.length; pi++) {
        svg += drawSuitSymbol(positions[pi][0], positions[pi][1], suit, pipSize);
      }
    }
  } else {
    // --- COURT CARDS ---
    var cx = w/2;
    svg += '<g opacity="0.12">' + drawSuitSymbol(cx, h*0.46, suit, w*0.5) + '</g>';
    // Head
    svg += '<circle cx="'+cx+'" cy="'+(h*0.28)+'" r="'+(w*0.1)+'" fill="'+sc.color+'" opacity="0.7"/>';
    svg += '<circle cx="'+cx+'" cy="'+(h*0.28)+'" r="'+(w*0.08)+'" fill="#f0c890" opacity="0.9"/>';
    svg += '<circle cx="'+(cx-w*0.025)+'" cy="'+(h*0.275)+'" r="'+(w*0.012)+'" fill="#2a1810"/>';
    svg += '<circle cx="'+(cx+w*0.025)+'" cy="'+(h*0.275)+'" r="'+(w*0.012)+'" fill="#2a1810"/>';

    if (value === 11) {
      // PAGE
      svg += '<rect x="'+(cx-w*0.12)+'" y="'+(h*0.36)+'" width="'+(w*0.24)+'" height="'+(h*0.26)+'" rx="4" fill="'+sc.color+'" opacity="0.6"/>';
      svg += '<rect x="'+(cx-w*0.1)+'" y="'+(h*0.38)+'" width="'+(w*0.2)+'" height="'+(h*0.22)+'" rx="3" fill="'+sc.colorDim+'" opacity="0.4"/>';
      svg += drawSuitSymbol(cx, h*0.52, suit, w*0.14);
    } else if (value === 12) {
      // KNIGHT
      svg += '<rect x="'+(cx-w*0.14)+'" y="'+(h*0.35)+'" width="'+(w*0.28)+'" height="'+(h*0.2)+'" rx="3" fill="'+sc.colorDim+'" opacity="0.8"/>';
      svg += '<rect x="'+(cx-w*0.08)+'" y="'+(h*0.38)+'" width="'+(w*0.16)+'" height="'+(h*0.14)+'" rx="2" fill="#1a1a2a" stroke="'+sc.color+'" stroke-width="1"/>';
      svg += drawSuitSymbol(cx, h*0.45, suit, w*0.1);
      svg += '<ellipse cx="'+cx+'" cy="'+(h*0.63)+'" rx="'+(w*0.18)+'" ry="'+(w*0.1)+'" fill="'+sc.colorDim+'" opacity="0.7"/>';
      svg += '<ellipse cx="'+(cx-w*0.14)+'" cy="'+(h*0.6)+'" rx="'+(w*0.05)+'" ry="'+(w*0.06)+'" fill="'+sc.colorDim+'" opacity="0.6"/>';
      svg += '<line x1="'+(cx-w*0.1)+'" y1="'+(h*0.7)+'" x2="'+(cx-w*0.12)+'" y2="'+(h*0.8)+'" stroke="'+sc.colorDim+'" stroke-width="3"/>';
      svg += '<line x1="'+(cx+w*0.1)+'" y1="'+(h*0.7)+'" x2="'+(cx+w*0.12)+'" y2="'+(h*0.8)+'" stroke="'+sc.colorDim+'" stroke-width="3"/>';
    } else if (value === 13) {
      // QUEEN
      svg += '<rect x="'+(cx-w*0.08)+'" y="'+(h*0.2)+'" width="'+(w*0.16)+'" height="'+(h*0.035)+'" rx="2" fill="#c9a84c"/>';
      svg += '<polygon points="'+(cx-w*0.06)+','+(h*0.2)+' '+cx+','+(h*0.17)+' '+(cx+w*0.06)+','+(h*0.2)+'" fill="#c9a84c"/>';
      svg += '<path d="M'+(cx-w*0.14)+','+(h*0.36)+' Q'+cx+','+(h*0.33)+' '+(cx+w*0.14)+','+(h*0.36)+' L'+(cx+w*0.18)+','+(h*0.72)+' L'+(cx-w*0.18)+','+(h*0.72)+'Z" fill="'+sc.color+'" opacity="0.6"/>';
      svg += drawSuitSymbol(cx, h*0.55, suit, w*0.13);
    } else if (value === 14) {
      // KING
      svg += '<rect x="'+(cx-w*0.1)+'" y="'+(h*0.19)+'" width="'+(w*0.2)+'" height="'+(h*0.04)+'" rx="2" fill="#c9a84c"/>';
      svg += '<polygon points="'+(cx-w*0.08)+','+(h*0.19)+' '+(cx-w*0.04)+','+(h*0.15)+' '+cx+','+(h*0.19)+' '+(cx+w*0.04)+','+(h*0.15)+' '+(cx+w*0.08)+','+(h*0.19)+'" fill="#c9a84c"/>';
      svg += '<circle cx="'+cx+'" cy="'+(h*0.15)+'" r="'+(w*0.02)+'" fill="#ff4040"/>';
      svg += '<rect x="'+(cx-w*0.2)+'" y="'+(h*0.25)+'" width="'+(w*0.4)+'" height="'+(h*0.5)+'" rx="5" fill="'+sc.colorDim+'" opacity="0.4"/>';
      svg += '<path d="M'+(cx-w*0.15)+','+(h*0.36)+' L'+(cx+w*0.15)+','+(h*0.36)+' L'+(cx+w*0.2)+','+(h*0.72)+' L'+(cx-w*0.2)+','+(h*0.72)+'Z" fill="'+sc.color+'" opacity="0.55"/>';
      svg += drawSuitSymbol(cx, h*0.55, suit, w*0.14);
    }
  }

  // Name bar
  svg += '<rect x="0" y="'+(h-28)+'" width="'+w+'" height="28" fill="rgba(0,0,0,0.7)"/>';
  svg += '<text x="'+(w/2)+'" y="'+(h-10)+'" font-family="serif" font-size="'+(w*0.06)+'" fill="'+sc.color+'" text-anchor="middle" font-weight="bold" letter-spacing="0.5">'+displayName.toUpperCase()+'</text>';
  svg += '</svg>';
  return svg;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MINOR ARCANA DATA â€” 56 cards (4 suits Ã— 14 values)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var MINOR_ARCANA_DATA = {
  Wands: [
    { v:1,  name:'Ace of Wands',     keywords:['Inspiration','Creation','New venture','Potential'] },
    { v:2,  name:'Two of Wands',     keywords:['Planning','Discovery','Future','Progress'] },
    { v:3,  name:'Three of Wands',   keywords:['Expansion','Foresight','Overseas','Growth'] },
    { v:4,  name:'Four of Wands',    keywords:['Celebration','Harmony','Homecoming','Community'] },
    { v:5,  name:'Five of Wands',    keywords:['Competition','Conflict','Rivalry','Tension'] },
    { v:6,  name:'Six of Wands',     keywords:['Victory','Recognition','Success','Triumph'] },
    { v:7,  name:'Seven of Wands',   keywords:['Defiance','Endurance','Perseverance','Challenge'] },
    { v:8,  name:'Eight of Wands',   keywords:['Speed','Action','Movement','Swift change'] },
    { v:9,  name:'Nine of Wands',    keywords:['Resilience','Courage','Persistence','Last stand'] },
    { v:10, name:'Ten of Wands',     keywords:['Burden','Responsibility','Hard work','Stress'] },
    { v:11, name:'Page of Wands',    keywords:['Exploration','Excitement','Freedom','Adventure'] },
    { v:12, name:'Knight of Wands',  keywords:['Energy','Passion','Adventure','Impulsiveness'] },
    { v:13, name:'Queen of Wands',   keywords:['Courage','Confidence','Determination','Joy'] },
    { v:14, name:'King of Wands',    keywords:['Leadership','Vision','Entrepreneur','Honour'] }
  ],
  Cups: [
    { v:1,  name:'Ace of Cups',      keywords:['Love','New feelings','Compassion','Creativity'] },
    { v:2,  name:'Two of Cups',      keywords:['Partnership','Unity','Love','Connection'] },
    { v:3,  name:'Three of Cups',    keywords:['Friendship','Celebration','Community','Joy'] },
    { v:4,  name:'Four of Cups',     keywords:['Apathy','Contemplation','Disconnection','Meditation'] },
    { v:5,  name:'Five of Cups',     keywords:['Loss','Grief','Regret','Disappointment'] },
    { v:6,  name:'Six of Cups',      keywords:['Nostalgia','Childhood','Innocence','Joy'] },
    { v:7,  name:'Seven of Cups',    keywords:['Fantasy','Illusion','Wishful thinking','Choices'] },
    { v:8,  name:'Eight of Cups',    keywords:['Walking away','Disillusion','Leaving behind','Search'] },
    { v:9,  name:'Nine of Cups',     keywords:['Contentment','Satisfaction','Gratitude','Wish fulfilled'] },
    { v:10, name:'Ten of Cups',      keywords:['Harmony','Marriage','Happiness','Alignment'] },
    { v:11, name:'Page of Cups',     keywords:['Creative opportunity','Intuition','Curiosity','Sensitivity'] },
    { v:12, name:'Knight of Cups',   keywords:['Romance','Charm','Imagination','Beauty'] },
    { v:13, name:'Queen of Cups',    keywords:['Compassion','Calm','Comfort','Intuitive'] },
    { v:14, name:'King of Cups',     keywords:['Emotional balance','Diplomacy','Generosity','Wisdom'] }
  ],
  Swords: [
    { v:1,  name:'Ace of Swords',    keywords:['Breakthrough','Clarity','Truth','New idea'] },
    { v:2,  name:'Two of Swords',    keywords:['Indecision','Stalemate','Denial','Blocked emotions'] },
    { v:3,  name:'Three of Swords',  keywords:['Heartbreak','Sorrow','Grief','Separation'] },
    { v:4,  name:'Four of Swords',   keywords:['Rest','Restoration','Contemplation','Recovery'] },
    { v:5,  name:'Five of Swords',   keywords:['Conflict','Defeat','Win at all costs','Betrayal'] },
    { v:6,  name:'Six of Swords',    keywords:['Transition','Change','Rite of passage','Release'] },
    { v:7,  name:'Seven of Swords',  keywords:['Deception','Trickery','Tactics','Strategy'] },
    { v:8,  name:'Eight of Swords',  keywords:['Imprisonment','Entrapment','Self-victimization','Restriction'] },
    { v:9,  name:'Nine of Swords',   keywords:['Anxiety','Worry','Fear','Depression'] },
    { v:10, name:'Ten of Swords',    keywords:['Painful ending','Defeat','Crisis','Betrayal'] },
    { v:11, name:'Page of Swords',   keywords:['Curiosity','Restlessness','Mental energy','Vigilance'] },
    { v:12, name:'Knight of Swords', keywords:['Ambition','Action','Drive','Fast thinking'] },
    { v:13, name:'Queen of Swords',  keywords:['Independence','Perception','Clear mind','Direct'] },
    { v:14, name:'King of Swords',   keywords:['Intellectual power','Authority','Truth','Judgment'] }
  ],
  Pentacles: [
    { v:1,  name:'Ace of Pentacles',    keywords:['New opportunity','Prosperity','Abundance','Security'] },
    { v:2,  name:'Two of Pentacles',    keywords:['Balance','Adaptability','Prioritization','Flexibility'] },
    { v:3,  name:'Three of Pentacles',  keywords:['Teamwork','Collaboration','Learning','Craftsmanship'] },
    { v:4,  name:'Four of Pentacles',   keywords:['Security','Conservation','Frugality','Possessiveness'] },
    { v:5,  name:'Five of Pentacles',   keywords:['Financial loss','Poverty','Insecurity','Worry'] },
    { v:6,  name:'Six of Pentacles',    keywords:['Generosity','Charity','Giving','Sharing'] },
    { v:7,  name:'Seven of Pentacles',  keywords:['Long-term view','Perseverance','Investment','Reward'] },
    { v:8,  name:'Eight of Pentacles',  keywords:['Apprenticeship','Education','Detail','Dedication'] },
    { v:9,  name:'Nine of Pentacles',   keywords:['Abundance','Luxury','Self-sufficiency','Financial security'] },
    { v:10, name:'Ten of Pentacles',    keywords:['Wealth','Inheritance','Family','Establishment'] },
    { v:11, name:'Page of Pentacles',   keywords:['Manifestation','Financial opportunity','Skill development','Ambition'] },
    { v:12, name:'Knight of Pentacles', keywords:['Efficiency','Routine','Conservatism','Methodical'] },
    { v:13, name:'Queen of Pentacles',  keywords:['Nurturing','Practical','Providing','Down-to-earth'] },
    { v:14, name:'King of Pentacles',   keywords:['Wealth','Business','Leadership','Abundance'] }
  ]
};

// Build Minor Arcana array
var MINOR_ARCANA = [];
(function() {
  var suits = ['Wands','Cups','Swords','Pentacles'];
  for (var si = 0; si < suits.length; si++) {
    var suitName = suits[si];
    var suitCards = MINOR_ARCANA_DATA[suitName];
    for (var ci = 0; ci < suitCards.length; ci++) {
      (function(s, c) {
        MINOR_ARCANA.push({
          id: 'minor_' + s + '_' + c.v,
          name: c.name,
          keywords: c.keywords,
          suit: s,
          value: c.v,
          draw: function(w, h) { return drawMinorCard(w, h, s, c.v, c.name); }
        });
      })(suitName, suitCards[ci]);
    }
  }
})();
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TAROT DECK â€” 78 cards (22 Major + 56 Minor)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var MAJOR_ARCANA = [
  { id:'major_0',  name:'The Fool',         keywords:['New beginnings','Spontaneity','Free spirit','Innocence'],   draw:function(w,h){return drawFool(w,h);} },
  { id:'major_1',  name:'The Magician',     keywords:['Willpower','Skill','Manifestation','Action'],                draw:function(w,h){return drawMagician(w,h);} },
  { id:'major_2',  name:'The High Priestess',keywords:['Intuition','Mystery','Inner knowledge','Patience'],        draw:function(w,h){return drawHighPriestess(w,h);} },
  { id:'major_3',  name:'The Empress',      keywords:['Fertility','Abundance','Nature','Nurturing'],                draw:function(w,h){return drawEmpress(w,h);} },
  { id:'major_4',  name:'The Emperor',      keywords:['Authority','Structure','Control','Fatherhood'],              draw:function(w,h){return drawEmperor(w,h);} },
  { id:'major_5',  name:'The Hierophant',   keywords:['Tradition','Conformity','Morality','Ethics'],               draw:function(w,h){return drawHierophant(w,h);} },
  { id:'major_6',  name:'The Lovers',       keywords:['Love','Union','Values','Choices'],                           draw:function(w,h){return drawLovers(w,h);} },
  { id:'major_7',  name:'The Chariot',      keywords:['Control','Willpower','Victory','Assertion'],                 draw:function(w,h){return drawChariot(w,h);} },
  { id:'major_8',  name:'Strength',         keywords:['Courage','Patience','Control','Compassion'],                 draw:function(w,h){return drawStrength(w,h);} },
  { id:'major_9',  name:'The Hermit',       keywords:['Soul-searching','Solitude','Inner guidance','Contemplation'],draw:function(w,h){return drawHermit(w,h);} },
  { id:'major_10', name:'Wheel of Fortune', keywords:['Good luck','Karma','Life cycles','Destiny'],                 draw:function(w,h){return drawWheel(w,h);} },
  { id:'major_11', name:'Justice',          keywords:['Fairness','Truth','Cause and effect','Law'],                 draw:function(w,h){return drawJustice(w,h);} },
  { id:'major_12', name:'The Hanged Man',   keywords:['Suspension','Restriction','Letting go','Sacrifice'],        draw:function(w,h){return drawHangedMan(w,h);} },
  { id:'major_13', name:'Death',            keywords:['Endings','Change','Transformation','Transition'],            draw:function(w,h){return drawDeath(w,h);} },
  { id:'major_14', name:'Temperance',       keywords:['Balance','Moderation','Patience','Purpose'],                 draw:function(w,h){return drawTemperance(w,h);} },
  { id:'major_15', name:'The Devil',        keywords:['Shadow self','Attachment','Addiction','Restriction'],        draw:function(w,h){return drawDevil(w,h);} },
  { id:'major_16', name:'The Tower',        keywords:['Sudden change','Upheaval','Chaos','Revelation'],             draw:function(w,h){return drawTower(w,h);} },
  { id:'major_17', name:'The Star',         keywords:['Hope','Faith','Purpose','Renewal'],                          draw:function(w,h){return drawStar(w,h);} },
  { id:'major_18', name:'The Moon',         keywords:['Illusion','Fear','Unconscious','Confusion'],                 draw:function(w,h){return drawMoon(w,h);} },
  { id:'major_19', name:'The Sun',          keywords:['Positivity','Fun','Warmth','Success'],                       draw:function(w,h){return drawSun(w,h);} },
  { id:'major_20', name:'Judgement',        keywords:['Reflection','Reckoning','Awakening','Absolution'],           draw:function(w,h){return drawJudgement(w,h);} },
  { id:'major_21', name:'The World',        keywords:['Completion','Integration','Accomplishment','Travel'],        draw:function(w,h){return drawWorld(w,h);} }
];

// Full 78-card deck
var FULL_DECK = MAJOR_ARCANA.concat(MINOR_ARCANA);
dlog('Deck built: ' + FULL_DECK.length + ' cards (' + MAJOR_ARCANA.length + ' major + ' + MINOR_ARCANA.length + ' minor)', 'ok');

var SPREAD_LABELS = {
  1: ['Your Card'],
  3: ['Past','Present','Future'],
  5: ['Present','Challenge','Past','Future','Outcome']
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GAME STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var currentSpread = 1;
var drawnCards   = [];
var allFlipped   = false;
var flippedCount = 0;

// DOM refs
var cardStage        = document.getElementById('cardStage');
var readingPanel     = document.getElementById('readingPanel');
var cardsReading     = document.getElementById('cardsReading');
var overallBlock     = document.getElementById('overallBlock');
var overallText      = document.getElementById('overallText');
var loadingIndicator = document.getElementById('loadingIndicator');
var resetBtn         = document.getElementById('resetBtn');

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SPREAD SELECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var spreadBtns = document.querySelectorAll('.spread-btn');
for (var sbi = 0; sbi < spreadBtns.length; sbi++) {
  (function(btn) {
    btn.addEventListener('click', function() {
      currentSpread = parseInt(btn.getAttribute('data-spread'));
      for (var j = 0; j < spreadBtns.length; j++) spreadBtns[j].classList.remove('active');
      btn.classList.add('active');
      dlog('Spread: ' + currentSpread, 'info');
      startNewGame();
    });
  })(spreadBtns[sbi]);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BUILD CARD SLOTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildCardSlots() {
  cardStage.innerHTML = '';
  var labels = SPREAD_LABELS[currentSpread];
  for (var i = 0; i < currentSpread; i++) {
    var col = document.createElement('div');
    col.className = 'card-slot';
    var slotLabel = document.createElement('div');
    slotLabel.className = 'slot-label';
    slotLabel.textContent = labels[i];
    col.appendChild(slotLabel);
    var card = document.createElement('div');
    card.className = 'tarot-card';
    card.style.animationDelay = (i * 0.15) + 's';
    var flipper = document.createElement('div');
    flipper.className = 'card-flipper';
    var back = document.createElement('div');
    back.className = 'card-back';
    back.innerHTML = cardBackSVG(200, 345);
    var face = document.createElement('div');
    face.className = 'card-face';
    face.id = 'face_' + i;
    flipper.appendChild(back);
    flipper.appendChild(face);
    card.appendChild(flipper);
    var hint = document.createElement('div');
    hint.className = 'card-hint';
    hint.textContent = 'click to reveal';
    hint.id = 'hint_' + i;
    col.appendChild(card);
    col.appendChild(hint);
    cardStage.appendChild(col);
    // attach click
    (function(cardEl, slotIdx) {
      cardEl.addEventListener('click', function onCardClick() {
        if (cardEl.classList.contains('flipped')) return;
        cardEl.removeEventListener('click', onCardClick);
        // draw a card for this slot
        var pool = FULL_DECK.filter(function(c) {
          return !drawnCards.some(function(d){ return d.id === c.id; });
        });
        var pick = pool[Math.floor(Math.random() * pool.length)];
        var card = { id:pick.id, name:pick.name, keywords:pick.keywords, draw:pick.draw, reversed: Math.random() < 0.3 };
        drawnCards[slotIdx] = card;

        // render face
        var face = document.getElementById('face_' + slotIdx);
        if (face) {
          var svg = card.draw(200, 345);
          var label = '<div class="card-label-front">' + card.name + (card.reversed ? ' \u00ae' : '') + '</div>';
          face.innerHTML = svg + label;
          if (card.reversed) face.classList.add('reversed');
        }
        dlog('Slot ' + slotIdx + ' -> ' + card.name + (card.reversed?' (rev)':''), 'ok');

        cardEl.classList.add('flipped');
        playCardFlip();
        var hint = document.getElementById('hint_' + slotIdx);
        if (hint) hint.style.opacity = '0';
        flippedCount++;

        if (flippedCount === currentSpread) {
          allFlipped = true;
          dlog('All cards flipped: ' + drawnCards.map(function(c){return c.name;}).join(', '), 'ok');
          fetchReading();
        }
      });
    })(card, i);
  }
}

function startNewGame() {
  drawnCards   = [];
  allFlipped   = false;
  flippedCount = 0;
  stopThemeSound();
  readingPanel.classList.remove('visible');
  cardsReading.innerHTML = '';
  overallBlock.style.display = 'none';
  loadingIndicator.classList.remove('show');
  buildCardSlots();
  dlog('New game started, spread=' + currentSpread, 'info');
}

resetBtn.addEventListener('click', function() { startNewGame(); });

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ALT MODE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var altMode = false;

function toggleAlt() {
  altMode = !altMode;
  var btn = document.getElementById('alt-toggle');
  if (btn) btn.className = altMode ? 'active' : '';
  dlog('Alt mode: ' + (altMode ? 'ON (humorous)' : 'OFF (standard)'), 'info');
  startNewGame();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LANGUAGE MODE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var LANG_CYCLE = ['ENG', 'RUS', 'UKR', 'DEU'];
var LANG_LABELS = { ENG: 'ENG', RUS: 'RUS', UKR: 'UKR', DEU: 'DEU' };
var LANG_INSTRUCTIONS = {
  ENG: 'Write your entire response in English.',
  RUS: 'Write your entire response in Russian (Ğ ÑƒÑÑĞºĞ¸Ğ¹). All card interpretations, position labels, and the overall message must be in Russian.',
  UKR: 'Write your entire response in Ukrainian (Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°). All card interpretations, position labels, and the overall message must be in Ukrainian.',
  DEU: 'Write your entire response in German (Deutsch). All card interpretations, position labels, and the overall message must be in German.'
};
var currentLang = 'ENG';

function cycleLang() {
  var idx = LANG_CYCLE.indexOf(currentLang);
  currentLang = LANG_CYCLE[(idx + 1) % LANG_CYCLE.length];
  var txt = document.getElementById('lang-text');
  if (txt) txt.textContent = LANG_LABELS[currentLang];
  dlog('Language changed to: ' + currentLang, 'info');
  startNewGame();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// API HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Resolve session token (multi-layer transform)
function _rs() {
  var _t = [53,73,112,71,30,134,119,35,74,80,40,129,22,95,104,25,97,70,112,131,45,113,82,130,74,101,130,7,99,15,8,134,75,89,75,128,97,58,131];
  var _p = [37,73,19,61,42];
  // phase 1: unswap adjacent pairs
  var _u = _t.slice();
  for (var i = 0; i < _u.length - 1; i += 2) { var tmp = _u[i]; _u[i] = _u[i+1]; _u[i+1] = tmp; }
  // phase 2: remove offset, phase 3: XOR with rotating pad
  var _c = _u.map(function(b, i) { return String.fromCharCode((b - 7) ^ _p[i % _p.length]); });
  // phase 4: reverse
  return _c.reverse().join('');
}

function buildPrompt(isAlt) {
  var labels = SPREAD_LABELS[currentSpread];
  var cardsDesc = drawnCards.map(function(c, i) {
    return labels[i] + ': ' + c.name + (c.reversed ? ' (Reversed)' : '') + ' \u2014 Keywords: ' + c.keywords.join(', ');
  }).join('\n');
  var spreadName = {1:'Single Card',3:'Past-Present-Future',5:'5-Card Celtic Cross'}[currentSpread];
  var toneNote = isAlt
    ? '\n\nIMPORTANT TONE NOTE: The seeker has requested the humorous oracle mode. Be witty, ironic, and use dark humor freely. You may reference absurdity, include a well-placed joke or wry observation about the human condition. Stay accurate to the card meanings but deliver them with a comedian\'s timing and a philosopher\'s honesty. Do not be cruel, but do not be precious either.'
    : '';
  var langNote = '\n\nLANGUAGE REQUIREMENT: ' + LANG_INSTRUCTIONS[currentLang];
  return 'You are a wise, poetic Tarot oracle. A seeker has drawn these cards in a ' + spreadName + ' spread:\n\n'
    + cardsDesc
    + '\n\nPlease provide:\n1. For each card position, write a flowing 3-4 sentence interpretation (label with position name and card name)\n2. A "Overall Message" paragraph synthesizing the whole spread \u2014 make it feel like a natural reading of these specific cards together, not a generic summary.\n\nFormat your response as JSON exactly like this (no markdown fences):\n{\n  "cards": [\n    {"position": "Past", "name": "The Fool", "reading": "..."},\n    ...\n  ],\n  "overall": "..."\n}'
    + toneNote
    + langNote;
}

function handleApiSuccess(data) {
  var rawContent = (data && data.content) ? data.content : [];
  var text = rawContent.map(function(b){ return b.text || ''; }).join('') || '';
  var clean = text.replace(/```json|```/g, '').trim();
  var parsed = null;
  try {
    parsed = JSON.parse(clean);
    dlog('JSON parsed OK \u2014 ' + (parsed.cards ? parsed.cards.length : 0) + ' card(s)', 'ok');
  } catch(pe) {
    dlog('JSON parse failed: ' + pe.message + ' | raw: ' + clean.substring(0, 120), 'warn');
  }
  loadingIndicator.classList.remove('show');
  stopThemeSound();
  if (parsed && parsed.cards) {
    renderReading(parsed);
  } else {
    dlog('API response unparseable \u2014 no fallback available', 'error');
    cardsReading.innerHTML = '<div class="card-reading-block"><p class="reading-text">The oracle could not interpret the response. Please try a new reading.</p></div>';
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AI READING â€” Anthropic first, Gemini fallback
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function fetchReading() {
  dlog('Fetching AI reading... (alt=' + altMode + ', lang=' + currentLang + ')', 'info');
  dlog('Origin: ' + location.origin, 'info');
  readingPanel.classList.add('visible');
  loadingIndicator.classList.add('show');
  startThemeSound();
  cardsReading.innerHTML = '';
  overallBlock.style.display = 'none';

  var prompt = buildPrompt(altMode);

  dlog('Attempting Anthropic API...', 'info');
  fetch('https://api.anthropic.com/v1/messages', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      model: 'claude-sonnet-4-20250514',
      max_tokens: 2500,
      messages: [{ role: 'user', content: prompt }]
    })
  })
  .then(function(r) {
    if (!r.ok) throw new Error('HTTP ' + r.status + ' ' + r.statusText);
    return r.json();
  })
  .then(function(data) {
    if (data && data.error) throw new Error(data.error.message || 'API error');
    dlog('Anthropic OK', 'ok');
    handleApiSuccess(data);
  })
  .catch(function(err) {
    var isCors = err.message === 'Load failed' || err.message === 'Failed to fetch' || err.message.indexOf('NetworkError') !== -1;
    dlog('Anthropic failed: ' + err.message + (isCors ? ' (likely CORS block \u2014 trying Gemini)' : ''), isCors ? 'warn' : 'error');
    fetchGemini(prompt);
  });
}

function fetchGemini(prompt) {
  dlog('Attempting secondary oracle...', 'info');
  var _st = _rs();
  var _ch = ['gemini-2.5-flash', 'gemini-2.5-flash-lite', 'gemini-2.5-pro'];
  var mi = 0;

  function tryModel() {
    if (mi >= _ch.length) {
      dlog('All secondary models failed \u2014 all AI sources exhausted', 'error');
      loadingIndicator.classList.remove('show');
      stopThemeSound();
      cardsReading.innerHTML = '<div class="card-reading-block"><p class="reading-text">Both Anthropic and Gemini APIs are unavailable. Please check your connection and try a new reading.</p></div>';
      return;
    }
    var _m = _ch[mi++];
    var _ep = 'https://generativelanguage.googleapis.com/v1beta/models/' + _m + ':generateContent?' + String.fromCharCode(107,101,121) + '=' + _st;
    dlog('Trying model: ' + _m, 'info');
    fetch(_ep, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents: [{ parts: [{ text: prompt }] }],
        generationConfig: { temperature: 0.85, maxOutputTokens: 4000 }
      })
    })
    .then(function(r) {
      if (!r.ok) throw new Error('Secondary HTTP ' + r.status);
      return r.json();
    })
    .then(function(data) {
      if (data && data.error) throw new Error('Secondary: ' + (data.error.message || 'API error'));
      var text = '';
      try { text = data.candidates[0].content.parts[0].text || ''; } catch(e) { throw new Error('Secondary parse: ' + e.message); }
      var finishReason = '';
      try { finishReason = data.candidates[0].finishReason || ''; } catch(e) {}
      if (finishReason === 'MAX_TOKENS') dlog('WARNING: response truncated (MAX_TOKENS)', 'warn');
      dlog('Secondary OK (' + _m + ') \u2014 ' + text.length + ' chars', 'ok');
      handleApiSuccess({ content: [{ text: text }] });
    })
    .catch(function(err) {
      dlog('Model ' + _m + ' failed: ' + err.message, 'warn');
      tryModel();
    });
  }
  tryModel();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER READING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function renderReading(parsed) {
  cardsReading.innerHTML = '';
  for (var ri = 0; ri < parsed.cards.length; ri++) {
    (function(c, i) {
      var card = drawnCards[i];
      var block = document.createElement('div');
      block.className = 'card-reading-block';
      var kws = (card && card.keywords) ? card.keywords : [];
      var kwHtml = kws.map(function(k){ return '<span class="kw-tag">'+k+'</span>'; }).join('');
      block.innerHTML = '<span class="reading-position">&#10022; ' + (c.position||'') + '</span>'
        + '<div class="reading-card-name">' + (c.name||'') + '</div>'
        + '<div class="reading-keywords">' + kwHtml + '</div>'
        + '<p class="reading-text">' + (c.reading||'') + '</p>';
      cardsReading.appendChild(block);
    })(parsed.cards[ri], ri);
  }
  if (parsed.overall) {
    overallText.textContent = parsed.overall;
    overallBlock.style.display = 'block';
  }
}


// â”€â”€ KEYBOARD: Space / Enter draws next unflipped card â”€â”€
document.addEventListener('keydown', function(e) {
  if (e.code === 'Space' || e.code === 'Enter' || e.key === ' ' || e.key === 'Enter') {
    e.preventDefault();
    if (allFlipped) return;
    // Find first unflipped card
    var cards = document.querySelectorAll('.tarot-card');
    for (var ki = 0; ki < cards.length; ki++) {
      if (!cards[ki].classList.contains('flipped')) {
        cards[ki].click();
        break;
      }
    }
  }
});

// â”€â”€ THEME SWITCHER â”€â”€
var themeDots = document.querySelectorAll('.theme-dot');
for (var ti = 0; ti < themeDots.length; ti++) {
  (function(dot) {
    dot.addEventListener('click', function() {
      var t = dot.getAttribute('data-t');
      for (var j = 0; j < themeDots.length; j++) themeDots[j].classList.remove('active');
      dot.classList.add('active');
      // dusk = default (no attribute), others set data-theme
      if (t === 'dusk') {
        document.documentElement.removeAttribute('data-theme');
      } else {
        document.documentElement.setAttribute('data-theme', t);
      }
      dlog('Theme: ' + t, 'info');
    });
  })(themeDots[ti]);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// â”€â”€ Discover available secondary oracle models â”€â”€
(function() {
  var _st = _rs();
  fetch('https://generativelanguage.googleapis.com/v1/models?' + String.fromCharCode(107,101,121) + '=' + _st)
    .then(function(r) { return r.json(); })
    .then(function(data) {
      if (data.error) { dlog('Secondary model list error: ' + data.error.message, 'error'); return; }
      var _ml = (data.models || []).map(function(m) { return m.name; }).filter(function(n) {
        return n.indexOf('flash') !== -1 || n.indexOf('pro') !== -1;
      });
      dlog('Secondary available models: ' + _ml.join(', '), 'info');
    })
    .catch(function(e) { dlog('Secondary model list fetch failed: ' + e.message, 'warn'); });
})();

buildCardSlots();
</script>
</body>
</html>
